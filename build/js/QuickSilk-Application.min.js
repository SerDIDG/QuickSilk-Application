var App={Elements:{},Nodes:{}};App.Anchor=function(a){var b=this,c=cm.merge({link:cm.Node("a"),href:null,target:cm.Node("div"),scroll:document.body,indentY:0,duration:800,setURL:!0},a),d={},e=function(){var a,b;d.scroll=new cm.Animation(c.scroll),cm.addEvent(c.link,"click",function(e){e=cm.getEvent(e),cm.preventDefault(e),c.setURL&&cm.isHistoryAPI&&c.href&&window.history.pushState(!1,!1,c.href),a=c.target.offsetTop+c.indent,b=c.scroll==document.body?{docScrollTop:a}:{scrollTop:a},d.scroll.go({style:b,anim:"smooth",duration:c.duration})},!0,!0)};b.setIndent=function(a){return isNaN(a)||(c.indent=a),b},e()},cm.define("App.HelpTour",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRender"],params:{node:cm.Node("div"),container:"document.body",name:"app-helptour",sidebarName:"app-sidebar",topMenuName:"app-topmenu",templateName:"app-template",duration:500,adaptiveFrom:768,autoStart:!1,popupIndent:24,"Com.Overlay":{container:"document.body",autoOpen:!1,removeOnClose:!0,showSpinner:!1,showContent:!1,name:"",theme:"transparent",position:"absolute"},langs:{next:"Next",back:"Back",close:"Close",cancel:"Cancel",finish:"Finish"}}},function(a){var b=this,c={sidebarCollapsed:0,sidebarExpanded:0,topMenu:0,popupHeight:0,popupSelfHeight:0,popupContentHeight:0},d={sidebarExpanded:!1,sidebarTab:"modules"};b.nodes={},b.components={overlays:{}},b.currentStage=-1,b.currentScene=null,b.currentSceneNode=null,b.previousStage=null,b.previousScene=null,b.previousSceneNode=null,b.sceneIntervals={};var e=function(){f(),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.addToStack(b.params.node),g(),h(),b.triggerEvent("onRender"),b.params.autoStart&&j()},f=function(){var a;b.params.duration=cm.getTransitionDurationFromRule(".app__helptour-helper__duration"),(a=cm.getCSSRule(".app__helptour-helper__adaptive-from")[0])&&(b.params.adaptiveFrom=cm.styleToNumber(a.style.width))},g=function(){b.params["Com.Overlay"].container=b.params.container,b.params["Com.Overlay"].name=[b.params.name,"overlay"].join("-")},h=function(){cm.getConstructor("Com.Overlay",function(a){b.components.overlays.main=new a(cm.merge(b.params["Com.Overlay"],{position:"fixed"})),b.components.overlays.sidebar=new a(b.params["Com.Overlay"]),b.components.overlays.topMenu=new a(b.params["Com.Overlay"]),b.components.overlays.template=new a(b.params["Com.Overlay"]),cm.addEvent(b.params.node,"click",j)})},i=function(){var a;(a=cm.getCSSRule(".app-lt__sidebar-helper__width-collapsed")[0])&&(c.sidebarCollapsed=cm.styleToNumber(a.style.width)),(a=cm.getCSSRule(".app-lt__sidebar-helper__width-expanded")[0])&&(c.sidebarExpanded=cm.styleToNumber(a.style.width)),(a=cm.getCSSRule(".app-lt__topmenu-helper__height")[0])&&(c.topMenu=cm.styleToNumber(a.style.height)),c.popupSelfHeight||(c.popupSelfHeight=b.nodes.popup.offsetHeight),b.currentSceneNode&&(c.popupContentHeight=b.currentSceneNode.offsetHeight),c.popupHeight=c.popupSelfHeight+c.popupContentHeight},j=function(){cm.find("App.Sidebar",b.params.sidebarName,null,function(a){b.components.sidebar=a,b.components.overlays.sidebar.embed(b.components.sidebar.getNodes("inner"))}),cm.find("App.TopMenu",b.params.topMenuName,null,function(a){b.components.topMenu=a,b.components.overlays.topMenu.embed(b.components.topMenu.getNodes("inner"))}),cm.find("App.Template",b.params.templateName,null,function(a){b.components.template=a,b.components.overlays.template.embed(b.components.template.getNodes("container"))}),b.components.sidebar&&b.components.topMenu&&b.components.template?k():cm.errorLog({type:"error",name:b._name.full,message:["Required components does not constructed."].join(" ")})},k=function(){o(),d.sidebarExpanded=b.components.sidebar.isExpanded,b.components.sidebar.isExpanded&&b.components.sidebar.collapse(),d.sidebarTab=b.components.sidebar.getTab(),b.components.sidebar.unsetTab(),b.components.topMenu.collapse(),cm.forEach(b.components.overlays,function(a){a.open()}),m(0)},l=function(){p(),d.sidebarExpanded&&!b.components.sidebar.isExpanded?b.components.sidebar.expand():!d.sidebarExpanded&&b.components.sidebar.isExpanded&&b.components.sidebar.collapse(),b.components.sidebar.setTab(d.sidebarTab),cm.forEach(b.components.overlays,function(a){a.close()}),n()},m=function(a){App.HelpTourScenario[a]&&(n(),b.currentStage=a,b.currentScene=App.HelpTourScenario[a],cm.forEach(b.currentScene.overlays,function(a,c){b.components.overlays[c].setTheme(a)}),b.currentScene.sidebar?b.components.sidebar.setTab(b.currentScene.sidebar).expand():b.components.sidebar.unsetTab().collapse(),b.components.topMenu.setActiveItem(b.currentScene.topMenu),b.currentScene.arrow&&cm.addClass(b.nodes.popupArrows[b.currentScene.arrow],"is-show"),0==b.currentStage?(b.nodes.back.innerHTML=b.lang("close"),b.nodes.next.innerHTML=b.lang("next")):b.currentStage==App.HelpTourScenario.length-1?(b.nodes.back.innerHTML=b.lang("back"),b.nodes.next.innerHTML=b.lang("finish")):(b.nodes.back.innerHTML=b.lang("back"),b.nodes.next.innerHTML=b.lang("next")),b.currentSceneNode=cm.Node("div",{"class":"popup__content__item",innerHTML:b.currentScene.content}),b.nodes.popupContent.appendChild(b.currentSceneNode),cm.addClass(b.currentSceneNode,"is-show",!0),s(),b.currentScene.construct&&b.currentScene.construct.call(b))},n=function(){b.currentStage>=0&&(b.previousStage=b.currentStage,b.previousScene=b.currentScene,b.previousSceneNode=b.currentSceneNode,b.components.topMenu.unsetActiveItem(b.previousScene.topMenu),b.previousScene.arrow&&cm.removeClass(b.nodes.popupArrows[b.previousScene.arrow],"is-show"),cm.forEach(b.sceneIntervals,function(a){clearInterval(a)}),function(a){setTimeout(function(){cm.remove(a)},b.params.duration)}(b.previousSceneNode),b.previousScene.destruct&&b.previousScene.destruct.call(b)),b.currentStage=-1},o=function(){b.nodes.popupArrows={},b.nodes.popup=cm.Node("div",{"class":"app__helptour__popup"},b.nodes.popupArrows.top=cm.Node("div",{"class":"popup__arrow popup__arrow--top"}),b.nodes.popupArrows.right=cm.Node("div",{"class":"popup__arrow popup__arrow--right"}),b.nodes.popupArrows.bottom=cm.Node("div",{"class":"popup__arrow popup__arrow--bottom"}),b.nodes.popupArrows.left=cm.Node("div",{"class":"popup__arrow popup__arrow--left"}),b.nodes.popupClose=cm.Node("div",{"class":"popup__close",title:b.lang("close")}),b.nodes.popupContent=cm.Node("div",{"class":"popup__content"}),b.nodes.popupButtons=cm.Node("div",{"class":"popup__buttons"},cm.Node("div",{"class":"btn-wrap pull-center"},b.nodes.back=cm.Node("button",b.lang("back")),b.nodes.next=cm.Node("button",b.lang("next"))))),q(),b.params.container.appendChild(b.nodes.popup),cm.addClass(b.nodes.popup,"is-show",!0),cm.addEvent(b.nodes.popupClose,"click",l),cm.addEvent(b.nodes.next,"click",b.next),cm.addEvent(b.nodes.back,"click",b.prev),cm.addEvent(window,"resize",s),cm.addEvent(window,"keydown",r)},p=function(){cm.removeEvent(window,"resize",s),cm.removeEvent(window,"keydown",r),q(),cm.removeClass(b.nodes.popup,"is-show"),setTimeout(function(){cm.remove(b.nodes.popup)},b.params.duration)},q=function(){var a=[Math.round(cm.getX(b.params.node)+b.params.node.offsetWidth/2),"px"].join(""),c=[Math.round(cm.getY(b.params.node)+b.params.node.offsetHeight/2),"px"].join("");cm.setCSSTranslate(b.nodes.popup,a,c,0,"scale(0)")},r=function(a){switch(a=cm.getEvent(a),a.keyCode){case 27:l();break;case 37:b.prev();break;case 39:b.next()}},s=function(){var a,d,e,f,g,h;if(b.currentScene){if(d=cm.getPageSize(),d.winWidth>b.params.adaptiveFrom)switch(i(),a=b.currentScene.position.split(":"),g=c.popupContentHeight,a[0]){case"window":switch(a[1]){case"top":f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=b.params.popupIndent;break;case"bottom":f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=d.winHeight-c.popupHeight-b.params.popupIndent;break;case"center":default:f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=Math.round((d.winHeight-c.popupHeight)/2)}break;case"topMenu":switch(a[1]){case"center":default:f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=c.topMenu+b.params.popupIndent}break;case"topMenuItem":h=b.components.topMenu.getItem(a[1]),f=h?a[2]&&"dropdown"==a[2]&&h.dropdown?a[3]&&"left"==a[3]?cm.getX(h.dropdown)-b.nodes.popup.offsetWidth-b.params.popupIndent:cm.getX(h.dropdown)+h.dropdown.offsetWidth+b.params.popupIndent:h.container?a[3]&&"left"==a[3]?cm.getX(h.container)+h.container.offsetWidth-b.nodes.popup.offsetWidth:cm.getX(h.container):Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2):Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=c.topMenu+b.params.popupIndent;break;case"template":switch(a[1]){case"top":f=b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed,f=Math.round((d.winWidth+f-b.nodes.popup.offsetWidth)/2),e=c.topMenu+b.params.popupIndent;break;case"bottom":f=b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed,f=Math.round((d.winWidth+f-b.nodes.popup.offsetWidth)/2),e=d.winHeight-c.popupHeight-b.params.popupIndent;break;case"left":f=(b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed)+b.params.popupIndent,e=Math.round((d.winHeight-c.popupHeight)/2);break;case"left-top":f=(b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed)+b.params.popupIndent,e=c.topMenu+b.params.popupIndent;break;case"center":default:f=b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed,f=Math.round((d.winWidth+f-b.nodes.popup.offsetWidth)/2),e=Math.round((d.winHeight+c.topMenu-c.popupHeight)/2)}break;default:f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=Math.round((d.winHeight-c.popupHeight)/2)}else f=0,e=0,g="auto";b.nodes.popupContent.style.height="auto"==g?g:[g,"px"].join(""),cm.setCSSTranslate(b.nodes.popup,[f,"px"].join(""),[e,"px"].join(""),0,"scale(1)")}};b.start=function(){return j(),b},b.stop=function(){return l(),b},b.next=function(){return b.currentStage>=0&&(App.HelpTourScenario[b.currentStage+1]?m(b.currentStage+1):l()),b},b.prev=function(){return b.currentStage>=0&&(App.HelpTourScenario[b.currentStage-1]?m(b.currentStage-1):l()),b},e()}),App.HelpTourScenario=[{position:"window:center",arrow:!1,overlays:{main:"transparent",sidebar:"dark",topMenu:"dark",template:"dark"},sidebar:!1,topMenu:!1,content:"<h3>QuickSilk Online Tour!</h3><p>Welcome to QuickSilk! Use the buttons at the bottom of each help bubble to quickly discover how to navigate and use the QuickSilk software. This online tour automatically appears the first time you login. Anytime after this, simply click on the help tour menu item for a quick refresher.</p>"},{position:"topMenuItem:user:dropdown:left",arrow:"right",overlays:{main:"transparent",sidebar:"dark",topMenu:"transparent",template:"dark"},sidebar:!1,topMenu:"user",content:"<h3>User Menu</h3><p>Click on your name to view the admin panel (future), your profile, or to logout. The View Profile link provides the ability to manage your subscription and billing, password, forum settings, working groups and public profile.</p>"},{position:"topMenuItem:modules:dropdown:right",arrow:"left",overlays:{main:"transparent",sidebar:"dark",topMenu:"transparent",template:"dark"},sidebar:!1,topMenu:"modules",content:"<h3>Modules</h3><p>The Module manager allows you to work on your modules from the administration panel. Simply mouse over the Modules menu and then scroll down and click on the module you wish to work with. </p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:!1,topMenu:!1,content:"<h3>Left Panel Slider</h3><p>The left slider widget provides you with quick access to the modules, pages, layouts and template features. Simply click on the icon for the tab you wish to use.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"modules",topMenu:!1,content:"<h3>Installed Modules</h3><p>The modules tab provides quick access to the modules that you've subscribed to. Once you've opened a page or a template, open the modules tab to drag and drop the modules you wish to include.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"pages",topMenu:!1,content:"<h3>Site Pages</h3><p>The site pages tab allows you to quickly open, modify and manage your website pages. Simply open the tab and click on the web page you wish to work on.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"layouts",topMenu:!1,content:"<h3>Page Layouts</h3><p>Use the page layout tab to open, modify and manage the layouts of your various web page templates. A page layout will consist of the common elements you have on every page.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"templates",topMenu:!1,content:"<h3>Templates</h3><p>The templates tab displays the different custom or predesigned templates that you've installed and are immediately available for use on your website. If you want to view or install other templates, you'll do so from the template gallery.</p>"},{position:"template:center",arrow:!1,overlays:{main:"transparent",sidebar:"dark",topMenu:"dark",template:"light"},sidebar:!1,topMenu:!1,content:"<h3>Drop Area</h3><p>The drop area is where you drag and drop the modules. To move a module onto a page or template place your mouse on the desired module icon, hold down the left button on your mouse, and drag the module to the highlighted area of the page you wish to drop it, then let go of the mouse button.</p>"},{position:"topMenuItem:support:container:right",arrow:"top",overlays:{main:"transparent",sidebar:"dark",topMenu:"transparent",template:"dark"},sidebar:!1,topMenu:"support",content:"<h3>Need Help?</h3><p>Are you stuck, experiencing an issue, found a bug or have a suggestion? Simply click on this link and send us a message. FYI, to assist in the troubleshooting process we automatically collect information on the operating system, browser and browser version you are using. Our goal is to respond to your message within 1 business day.</p>"}],cm.define("App.LoginBox",{modules:["Params","DataConfig","DataNodes"],events:["onRender"],params:{node:cm.Node("div"),"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,preventClickEvent:!0,adaptiveX:!0,adaptiveY:!0,left:"(targetWidth - selfWidth) / 2",top:"targetHeight + 8",className:"app-pt__box-login__tooltip"}}},function(a){var b=this,c={};b.nodes={button:cm.Node("div"),target:cm.Node("div")};var d=function(){b.setParams(a),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),e()},e=function(){c.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{target:b.nodes.button,content:b.nodes.target,events:{onShow:f}}))},f=function(){var a=cm.getByAttr("type","text",b.nodes.target)[0];a&&a.focus()};d()}),cm.define("App.ModuleMenu",{modules:["Params","DataNodes"],params:{node:cm.Node("div")}},function(a){var b=this;b.nodes={select:cm.Node("select")};var c=function(){b.setParams(a),b.getDataNodes(b.params.node),d()},d=function(){cm.addEvent(b.nodes.select,"change",e)},e=function(){var a=b.nodes.select.value;cm.isEmpty(a)||(window.location.href=a)};c()}),App.Rollover=function(a){var b,c=cm.merge({node:cm.Node("div"),height:400,duration:500,nodes:{"app-rollover":{}}},a),d={nodes:{"app-rollover":["button","container"]}},e={},f={},g=0,h=function(){var a;i(),a=e["app-rollover"].container,a.offsetHeight===a.scrollHeight?(g=c.height,b=!0,cm.replaceClass(c.node,"is-close","is-open")):(g=a.offsetHeight,b=!1,cm.replaceClass(c.node,"is-open","is-close")),j()},i=function(){cm.forEach(d.nodes,function(a,b){e[b]={},cm.forEach(a,function(a){e[b][a]=cm.getByAttr(["data",b].join("-"),a,c.node)[0]||cm.Node("div")})}),e=cm.merge(e,c.nodes)},j=function(){f.container=new cm.Animation(e["app-rollover"].container),cm.addEvent(e["app-rollover"].button,"click",k)},k=function(){console.log(1),b?(cm.replaceClass(c.node,"is-open","is-close"),f.container.go({style:{height:[g,"px"].join("")},duration:c.duration,anim:"smooth"})):(cm.replaceClass(c.node,"is-close","is-open"),f.container.go({style:{height:[e["app-rollover"].container.scrollHeight+e["app-rollover"].button.scrollHeight,"px"].join("")},duration:c.duration,anim:"smooth"})),b=!b};h()},cm.define("App.SearchBox",{modules:["Params","DataConfig","DataNodes"],events:["onRender"],params:{node:cm.Node("div"),"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,preventClickEvent:!0,adaptiveX:!0,adaptiveY:!1,left:"-selfWidth+targetWidth",top:"targetHeight + 8",className:"app-mod__search__tooltip"}}},function(a){var b=this,c={};b.nodes={button:cm.Node("div"),target:cm.Node("div")};var d=function(){b.setParams(a),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),e()},e=function(){c.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{target:b.nodes.button,content:b.nodes.target,events:{onShow:f}}))},f=function(){var a=cm.getByAttr("type","text",b.nodes.target)[0];a&&a.focus()};d()}),cm.define("App.Sidebar",{modules:["Params","Events","DataConfig","DataNodes","Storage","Stack"],events:["onRender","onCollapse","onExpand"],params:{node:cm.Node("div"),name:"app-sidebar",active:"modules",target:"document.html",remember:!0,"Com.TabsetHelper":{node:cm.Node("div"),name:""}}},function(a){var b,c=this,d=0,e=0;c.nodes={container:cm.Node("div"),inner:cm.Node("div"),collapseButtons:[],labels:[],tabs:[],areas:[],widgets:[]},c.components={},c.isExpanded=!1;var f=function(){c.setParams(a),c.convertEvents(c.params.events),c.getDataNodes(c.params.node),c.getDataConfig(c.params.node),c.addToStack(c.params.node),g(),h(),c.triggerEvent("onRender")},g=function(){c.params["Com.TabsetHelper"].node=c.nodes.inner,c.params["Com.TabsetHelper"].name=[c.params.name,"tabset"].join("-")},h=function(){var a,f;cm.getConstructor("Com.TabsetHelper",function(a){c.components.tabset=new a(c.params["Com.TabsetHelper"]),c.components.tabset.addEvent("onLabelClick",function(a,b){c.isExpanded&&a.get()!=b.id||c.toggle()}),c.components.tabset.addTabs(c.nodes.tabs,c.nodes.labels),c.components.tabset.set(c.params.active)}),d=cm._scrollSize,(a=cm.getCSSRule(".app-lt__sidebar-helper__menu-width")[0])&&(e=cm.styleToNumber(a.style.width)),(f=cm.getCSSRule(".app-lt__sidebar-helper__content-width")[0])&&(b=cm.styleToNumber(f.style.width)),cm.forEach(c.nodes.collapseButtons,function(a){cm.addEvent(a.container,"click",c.toggle)}),i(),c.isExpanded=cm.isClass(c.nodes.container,"is-expanded"),c.params.remember&&(c.isExpanded=c.storageRead("isExpanded")),cm.inDOM(c.nodes.container)&&"none"!=cm.getStyle(c.nodes.container,"display")||(c.isExpanded=!1),c.isExpanded?c.expand(!0):c.collapse(!0),cm.addEvent(window,"resize",j)},i=function(){var a;cm.addClass(c.nodes.container,"is-immediately"),(a=cm.getCSSRule(".app-lt__sidebar .sidebar__content")[0])&&(a.style.width=[b+d,"px"].join("")),(a=cm.getCSSRule(".app-lt__sidebar .sidebar__remove-zone")[0])&&(a.style.width=[b+d,"px"].join("")),((a=cm.getCSSRule(".app-lt__sidebar.is-expanded")[0])||(a=cm.getCSSRule(".is-expanded.app-lt__sidebar")[0]))&&(a.style.width=[e+b+d,"px"].join("")),(a=cm.getCSSRule("html.is-sidebar--expanded .tpl__container")[0])&&(a.style.marginLeft=[e+b+d,"px"].join("")),(a=cm.getCSSRule(".app-lt__sidebar-helper__width-expanded")[0])&&(a.style.width=[e+b+d,"px"].join("")),setTimeout(function(){cm.removeClass(c.nodes.container,"is-immediately")},5)},j=function(){cm._scrollSize!=d&&(d=cm._scrollSize,i())};c.collapse=function(a){return c.isExpanded=!1,a&&(cm.addClass(c.nodes.container,"is-immediately"),cm.addClass(c.params.target,"is-immediately")),cm.replaceClass(c.nodes.container,"is-expanded","is-collapsed",!0),cm.replaceClass(c.params.target,"is-sidebar--expanded","is-sidebar--collapsed",!0),cm.forEach(c.nodes.collapseButtons,function(a){cm.removeClass(a.container,"active")}),a&&setTimeout(function(){cm.removeClass(c.nodes.container,"is-immediately"),cm.removeClass(c.params.target,"is-immediately")},5),c.params.remember&&c.storageWrite("isExpanded",!1),c.triggerEvent("onCollapse"),c},c.expand=function(a){return c.isExpanded=!0,a&&(cm.addClass(c.nodes.container,"is-immediately"),cm.addClass(c.params.target,"is-immediately")),cm.replaceClass(c.nodes.container,"is-collapsed","is-expanded",!0),cm.replaceClass(c.params.target,"is-sidebar--collapsed","is-sidebar--expanded",!0),cm.forEach(c.nodes.collapseButtons,function(a){cm.addClass(a.container,"active")}),a&&setTimeout(function(){cm.removeClass(c.nodes.container,"is-immediately"),cm.removeClass(c.params.target,"is-immediately")},5),c.params.remember&&c.storageWrite("isExpanded",!0),c.triggerEvent("onExpand"),c},c.toggle=function(){return c.isExpanded?c.collapse():c.expand(),c},c.setTab=function(a){return c.components.tabset&&c.components.tabset.set(a),c},c.unsetTab=function(){return c.components.tabset&&c.components.tabset.unset(),c},c.getTab=function(){return c.components.tabset?c.components.tabset.get():null},c.getNodes=function(a){return c.nodes[a]||c.nodes},f()}),cm.define("App.Stylizer",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRender","onSelect","onChange"],params:{node:cm.Node("div"),name:"",active:{},"default":{},styles:{"font-family":["Arial, Helvetica, sans-serif","Arial Black, Gadget, sans-serif","Courier New, Courier, monospace","Georgia, serif","Impact, Charcoal, sans-serif","Lucida Console, Monaco, monospace","Lucida Sans Unicode, Lucida Grande, sans-serif","Palatino Linotype, Book Antiqua, Palatino, serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],"line-height":[8,10,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120],"font-size":[8,9,10,11,12,13,14,18,20,22,24,28,32,36,42,48,54,60,72,96],"font-weight":[100,300,400,600,700,800],"font-style":["normal","italic"],"text-decoration":["none","underline"]},styleBinds:{"font-weight":{normal:400,bold:700}},controls:{"font-family":!0,"line-height":!0,"font-size":!0,"font-weight":!0,"font-style":!0,"text-decoration":!0,color:!0},showResetButtons:!0,overrideControls:!0,"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,top:"targetHeight + 6",left:"-6",className:"app__stylizer-tooltip"},"Com.Select":{renderInBody:!1},"Com.ColorPicker":{renderInBody:!1},langs:{100:"Thin",300:"Light",400:"Regular",600:"Semi-Bold",700:"Bold",800:"Extra-Bold"}}},function(a){var b=this;b.nodes={container:cm.Node("div"),input:cm.Node("input",{type:"hidden"}),preview:cm.Node("div"),tooltip:{}},b.components={},b.value=null,b.previousValue=null;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),h(),b.addToStack(b.nodes.container),i(cm.merge(b.params["default"],b.params.active),!1),b.triggerEvent("onRender",b.value)},d=function(){cm.isNode(b.nodes.input)&&(b.params.name=b.nodes.input.getAttribute("name")||b.params.name),b.params["default"]=cm.merge(b.params["default"],b.getNodeDataConfig(b.nodes.input,"data-default")),b.params.active=cm.merge(cm.merge(b.params["default"],b.params.active),b.getNodeDataConfig(b.nodes.input,"value")),e(b.params.active),e(b.params["default"]),f(b.params.active),f(b.params["default"]),g(),b.params.overrideControls&&cm.forEach(b.params.controls,function(a,c){b.params.controls[c]=!!b.params["default"][c]})},e=function(a){return a["line-height"]&&"normal"!=a["line-height"]&&(a["line-height"]=parseInt(a["line-height"])),a["font-size"]&&(a["font-size"]=parseInt(a["font-size"])),a["font-weight"]&&(b.params.styleBinds["font-weight"][a["font-weight"]]&&(a["font-weight"]=b.params.styleBinds["font-weight"][a["font-weight"]]),a["font-weight"]=parseInt(a["font-weight"]),a["font-weight"]=cm.inArray(b.params.styles["font-weight"],a["font-weight"])?a["font-weight"]:400),a["font-style"]&&(a["font-style"]=cm.inArray(b.params.styles["font-style"],a["font-style"])?a["font-style"]:"normal"),a["text-decoration"]&&(a["text-decoration"]=cm.inArray(b.params.styles["text-decoration"],a["text-decoration"])?a["text-decoration"]:"none"),a},f=function(a){a["font-size"]&&!cm.inArray(b.params.styles["font-size"],a["font-size"])&&b.params.styles["font-size"].push(a["font-size"]),a["line-height"]&&!cm.inArray(b.params.styles["line-height"],a["line-height"])&&b.params.styles["line-height"].push(a["line-height"]),a["font-family"]&&!cm.inArray(b.params.styles["font-family"],a["font-family"])&&b.params.styles["font-family"].push(a["font-family"])},g=function(){b.params.styles["font-size"].sort(function(a,b){return a-b}),b.params.styles["line-height"].sort(function(a,b){return"normal"==a?-1:"normal"==b?1:a-b}),b.params.styles["font-family"].sort(function(a,b){var c=a.toLowerCase().replace(/["']/g,""),d=b.toLowerCase().replace(/["']/g,"");return d>c?-1:c>d?1:0})},h=function(){b.nodes.tooltip.container=cm.Node("div",{"class":"pt__toolbar"},cm.Node("div",{"class":"inner"},b.nodes.tooltip.group1=cm.Node("ul",{"class":"group"}),b.nodes.tooltip.group2=cm.Node("ul",{"class":"group"}),b.nodes.tooltip.group3=cm.Node("ul",{"class":"group"}),b.nodes.tooltip.group4=cm.Node("ul",{"class":"group"}))),b.params.controls["font-family"]&&(b.nodes.tooltip.group2.appendChild(cm.Node("li",{"class":"is-select medium"},b.nodes.tooltip["font-family"]=cm.Node("select",{title:b.lang("Font")}))),cm.forEach(b.params.styles["font-family"],function(a){b.nodes.tooltip["font-family"].appendChild(cm.Node("option",{value:a,style:{"font-family":a}},a.replace(/["']/g,"").split(",")[0]))}),b.components["font-family"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["font-family"],events:{onChange:function(a,c){i(cm.merge(b.value,{"font-family":c}),!0)}}}))),b.params.controls["font-weight"]&&(b.nodes.tooltip.group1.appendChild(b.nodes.tooltip["font-weight-button"]=cm.Node("li",{"class":"button button-secondary is-icon"},cm.Node("span",{"class":"icon toolbar bold"}))),cm.addEvent(b.nodes.tooltip["font-weight-button"],"click",function(){i(cm.merge(b.value,{"font-weight":b.value["font-weight"]>400?400:700}),!0)}),b.nodes.tooltip.group2.appendChild(cm.Node("li",{"class":"is-select medium"},b.nodes.tooltip["font-weight"]=cm.Node("select",{title:b.lang("Weight")}))),cm.forEach(b.params.styles["font-weight"],function(a){b.nodes.tooltip["font-weight"].appendChild(cm.Node("option",{value:a},b.lang(a)))}),b.components["font-weight"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["font-weight"],events:{onChange:function(a,c){i(cm.merge(b.value,{"font-weight":c}),!0)}}}))),b.params.controls["font-style"]&&(b.nodes.tooltip.group1.appendChild(b.nodes.tooltip["font-style-button"]=cm.Node("li",{"class":"button button-secondary is-icon"},cm.Node("span",{"class":"icon toolbar italic"}))),cm.addEvent(b.nodes.tooltip["font-style-button"],"click",function(){i(cm.merge(b.value,{"font-style":"italic"==b.value["font-style"]?"normal":"italic"}),!0)})),b.params.controls["text-decoration"]&&(b.nodes.tooltip.group1.appendChild(b.nodes.tooltip["text-decoration-button"]=cm.Node("li",{"class":"button button-secondary is-icon"},cm.Node("span",{"class":"icon toolbar underline"}))),cm.addEvent(b.nodes.tooltip["text-decoration-button"],"click",function(){i(cm.merge(b.value,{"text-decoration":"underline"==b.value["text-decoration"]?"none":"underline"}),!0)})),b.params.controls["font-size"]&&(b.nodes.tooltip.group2.appendChild(cm.Node("li",{"class":"is-select x-small"},b.nodes.tooltip["font-size"]=cm.Node("select",{title:b.lang("Size")}))),cm.forEach(b.params.styles["font-size"],function(a){b.nodes.tooltip["font-size"].appendChild(cm.Node("option",{value:a},a))}),b.components["font-size"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["font-size"],events:{onChange:function(a,c){i(cm.merge(b.value,{"font-size":c}),!0)}}}))),b.params.controls["line-height"]&&(b.nodes.tooltip.group2.appendChild(cm.Node("li",{"class":"is-select x-small"},b.nodes.tooltip["line-height"]=cm.Node("select",{title:b.lang("Leading")}))),cm.forEach(b.params.styles["line-height"],function(a){b.nodes.tooltip["line-height"].appendChild(cm.Node("option",{value:a},"normal"==a?b.lang("auto"):a))}),b.components["line-height"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["line-height"],events:{onChange:function(a,c){i(cm.merge(b.value,{"line-height":c}),!0)}}}))),b.params.controls.color&&(b.nodes.tooltip.group3.appendChild(cm.Node("li",{"class":"is-select medium"},b.nodes.tooltip.color=cm.Node("input",{type:"text",title:b.lang("Color")}))),b.components.color=new Com.ColorPicker(cm.merge(b.params["Com.ColorPicker"],{input:b.nodes.tooltip.color,defaultValue:b.params["default"].color,events:{onChange:function(a,c){i(cm.merge(b.value,{color:c}),!0)}}}))),b.params.showResetButtons&&(b.nodes.tooltip.group4.appendChild(cm.Node("li",b.nodes.tooltip["reset-default-button"]=cm.Node("div",{"class":"button button-primary"},b.lang("Reset to default")))),b.nodes.tooltip.group4.appendChild(cm.Node("li",b.nodes.tooltip["reset-current-button"]=cm.Node("div",{"class":"button button-primary"},b.lang("Reset to current")))),cm.addEvent(b.nodes.tooltip["reset-default-button"],"click",function(){i(cm.clone(b.params["default"]),!0)}),cm.addEvent(b.nodes.tooltip["reset-current-button"],"click",function(){i(cm.clone(b.params.active),!0)})),b.components.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{content:b.nodes.tooltip.container,target:b.nodes.container,events:{onShowStart:function(){cm.addClass(b.nodes.container,"active")},onHideStart:function(){cm.removeClass(b.nodes.container,"active")}}}))},i=function(a,c){var d=cm.clone(a);b.previousValue=cm.clone(b.value),b.value=a,cm.forEach(a,function(a,c){switch(b.components[c]&&b.components[c].set(a,!1),c){case"font-weight":a>400?cm.addClass(b.nodes.tooltip["font-weight-button"],"active"):cm.removeClass(b.nodes.tooltip["font-weight-button"],"active");break;case"text-decoration":"underline"==a?cm.addClass(b.nodes.tooltip["text-decoration-button"],"active"):cm.removeClass(b.nodes.tooltip["text-decoration-button"],"active");break;case"font-style":"italic"==a?cm.addClass(b.nodes.tooltip["font-style-button"],"active"):cm.removeClass(b.nodes.tooltip["font-style-button"],"active");break;case"font-size":d[c]=[a,"px"].join("");break;case"line-height":d[c]="normal"==a?a:[a,"px"].join("")}b.nodes.preview.style[cm.styleStrToKey(c)]=d[c]}),b.nodes.input.value=JSON.stringify(d),c&&(b.triggerEvent("onSelect",b.value),j())},j=function(){JSON.stringify(b.value)!=JSON.stringify(b.previousValue)&&b.triggerEvent("onChange",b.value)};b.set=function(a,c){return c="undefined"!=typeof c?c:!0,a=cm.isObject(a)?e(a):b.params["default"],i(a,c),b},b.get=function(){return b.value},c()}),cm.define("App.Template",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender","onRedraw"],params:{node:cm.Node("div"),name:"app-template",fixedHeader:!1,stickyFooter:!1,scroll:"document.body",scrollDuration:1e3}},function(a){var b=this;b.nodes={container:cm.Node("div"),header:cm.Node("div"),content:cm.Node("div"),footer:cm.Node("div"),buttonUp:cm.Node("div")},b.anim={};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.addToStack(b.params.node),d(),b.triggerEvent("onRender"),e(!0)},d=function(){b.anim.scroll=new cm.Animation(b.params.scroll),cm.addEvent(b.nodes.buttonUp,"click",b.scrollToTop),cm.addEvent(window,"resize",function(){e(!0)})},e=function(a){b.params.fixedHeader,b.params.stickyFooter&&f(),a&&b.triggerEvent("onRedraw")},f=function(){var a=cm.getPageSize("winHeight"),c=cm.getY(b.nodes.content),d=b.nodes.footer.offsetHeight;b.nodes.content.style.minHeight=Math.max(a-c-d,0)+"px"};b.redraw=function(a){return a="undefined"==typeof a?!0:a,e(a),
b},b.scrollToTop=function(){return b.anim.scroll.go({style:{docScrollTop:"0"},duration:b.params.scrollDuration,anim:"smooth"}),b},b.getNodes=function(a){return b.nodes[a]||b.nodes},c()}),cm.define("App.TemplateEditor",{modules:["Params","Events","DataConfig","DataNodes","Stack","Storage"],events:["onRender","onDrop","onAppend","onRemove","onEmbed","onReplace","onUpdate","onForceRender"],params:{node:cm.Node("div"),name:"app-template-editor",sidebarName:"app-sidebar","Com.Draganddrop":{renderTemporaryAria:!0,highlightChassis:!0}}},function(a){var b=this;b.components={},b.nodes={AppTemplate:{container:cm.Node("div")},AppSidebar:{removeZone:cm.Node("div"),areas:[],widgets:[]}},b.states={sidebarExpanded:!1},b.isExpanded=!1;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node,b.params.nodesDataMarker,null),b.getDataConfig(b.params.node),d(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){k(),l(),e(),i(),cm.addEvent(window,"resize",i)},e=function(){var a=cm.find("App.Sidebar",b.params.sidebarName,null,function(a){b.components.sidebar=a,b.components.sidebar.addEvent("onExpand",f).addEvent("onCollapse",g),b.components.sidebar.isExpanded?f():g()});a&&0!=a.length||(g(),h())},f=function(){var a;b.isExpanded=!0,a=cm.getByClass("app__block"),cm.forEach(a,function(a){cm.isClass(a,"is-locked")||cm.addClass(a,"is-editable"),cm.isClass(a,"is-hidden")&&cm.addClass(a,"is-visible")}),a=cm.getByClass("app-mod__columns"),cm.forEach(a,function(a){cm.isClass(a,"is-locked")||cm.addClass(a,"is-editable"),cm.isClass(a,"is-hidden")&&cm.addClass(a,"is-visible")}),a=cm.getByClass("app-mod__spacer"),cm.forEach(a,function(a){cm.isClass(a,"is-locked")||cm.addClass(a,"is-editable"),cm.isClass(a,"is-hidden")&&cm.addClass(a,"is-visible")}),a=cm.getByClass("app-mod__slider"),cm.forEach(a,function(a){cm.isClass(a,"is-locked")||cm.addClass(a,"is-editable"),cm.isClass(a,"is-hidden")&&cm.addClass(a,"is-visible")}),cm.find("Com.GridlistHelper",null,b.nodes.AppTemplate.container,function(a){a.enableEditMode()}),cm.find("App.Template",null,b.nodes.AppTemplate.container,function(a){a.redraw()})},g=function(){var a;b.isExpanded=!1,a=cm.getByClass("app__block"),cm.forEach(a,function(a){cm.removeClass(a,"is-editable is-visible")}),a=cm.getByClass("app-mod__columns"),cm.forEach(a,function(a){cm.removeClass(a,"is-editable is-visible")}),a=cm.getByClass("app-mod__spacer"),cm.forEach(a,function(a){cm.removeClass(a,"is-editable is-visible")}),a=cm.getByClass("app-mod__slider"),cm.forEach(a,function(a){cm.removeClass(a,"is-editable is-visible")}),cm.find("Com.GridlistHelper",null,b.nodes.AppTemplate.container,function(a){a.disableEditMode()}),cm.find("App.Template",null,b.nodes.AppTemplate.container,function(a){a.redraw()})},h=function(){cm.find("Com.GridlistHelper",null,b.nodes.AppTemplate.container,function(a){a.enableEditMode()})},i=function(){var a=cm.getPageSize();b.components.sidebar&&(a.winWidth<=cm._config.adaptiveFrom?b.components.sidebar.isExpanded&&b.isExpanded&&(b.states.sidebarExpanded=!0,b.components.sidebar.collapse(!0)):b.states.sidebarExpanded&&!b.isExpanded&&(b.states.sidebarExpanded=!1,b.components.sidebar.expand(!0)))},j=function(){var a;return a=cm.Node("div",{"class":"pt__box-loader position"},cm.Node("div",{"class":"inner"}))},k=function(){cm.forEach(b.nodes.AppSidebar.widgets,function(a){a.container.setAttribute("data-com-draganddrop","draggable"),a.dummy.setAttribute("data-com-draganddrop","drag")})},l=function(){var a=b.storageRead("dd")?b.storageRead("dd"):"Com.Draganddrop";cm.getConstructor(a,function(a){b.components.dd=new a(cm.merge({container:b.nodes.AppTemplate.container},b.params["Com.Draganddrop"])),cm.forEach(b.nodes.AppSidebar.areas,function(a){b.components.dd.registerArea(a.container,{isLocked:!0,isSystem:!0,hasPadding:!1,draggableInChildNodes:!1,cloneDraggable:!0})}),b.components.dd.registerArea(b.nodes.AppSidebar.removeZone,{isSystem:!0,isRemoveZone:!0,hasPadding:!1}).addEvent("onDrop",m).addEvent("onReplace",o).addEvent("onRemove",n)})},m=function(a,c){c.from.isTemporary?(c.dummy=c.item.drag,c.loaderBox=j(),c.dummy.appendChild(c.loaderBox),cm.addClass(c.loaderBox,"fadein",!0),b.triggerEvent("onAppend",{item:c,node:c.node,to:c.to,index:c.index})):b.triggerEvent("onDrop",c)},n=function(a,c){b.triggerEvent("onRemove",c)},o=function(a,c){b.triggerEvent("onReplace",c)};b.registerArea=function(a,c){return b.components.dd.registerArea(a,c),b},b.removeArea=function(a,c){return b.components.dd.removeArea(a,c),b},b.removeWidget=function(a,c){return b.components.dd.removeDraggable(a,c),b},b.replaceWidget=function(a,c,d){return b.components.dd.replaceDraggable(a,c,d),b},b.deleteAllTemporary=function(){var a=cm.getByAttr("data-node","dummy",b.nodes.AppTemplate.container);cm.forEach(a,function(a){b.removeWidget(a.parentNode)})},b.updateTemporaryWidget=function(a){var c=cm.getByAttr("data-node","dummy",b.nodes.AppTemplate.container);cm.forEach(c,function(c){var d=cm.strToHTML(a);b.components.dd.replaceDraggable(c.parentNode,d,{noEvent:!0,onStop:function(){var a=cm.getByAttr("data-com-draganddrop","area",d);cm.forEach(a,function(a){b.components.dd.registerArea(a,{})}),b.triggerEvent("onUpdate",{node:d})}})})},b.getWidget=function(a){var c=b.components.dd.getDraggableList(),d=[],e=null;return cm.forEach(c,function(b){d=cm.getByClass("app__block",b.node),d[0]&&d[0].getAttribute("data-block-position-id")==a&&(e=b)}),e},b.updateWidget=function(a,c){var d=b.getWidget(c);if(d){var e=cm.strToHTML(a);b.components.dd.replaceDraggable(d.node,e,{noEvent:!0,onStop:function(){var a=cm.getByAttr("data-com-draganddrop","area",e);cm.forEach(a,function(a){b.components.dd.registerArea(a,{})}),b.triggerEvent("onUpdate",{node:e})}})}},b.deleteWidget=function(a){var c=b.getWidget(a);c&&b.components.dd.removeDraggable(c.node,{noEvent:!0})},c()}),cm.define("App.TopMenu",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender","onCollapse","onExpand"],params:{node:cm.Node("div"),name:"app-topmenu",target:"document.html"}},function(a){var b,c=this;c.nodes={container:cm.Node("div"),inner:cm.Node("div"),button:cm.Node("div"),target:cm.Node("div"),items:{}},c.isExpanded=!1;var d=function(){c.setParams(a),c.convertEvents(c.params.events),c.getDataNodes(c.params.node),c.getDataConfig(c.params.node),c.addToStack(c.params.node),e(),c.triggerEvent("onRender")},e=function(){f(),cm.addEvent(c.nodes.button,"click",c.toggle),c.isExpanded=cm.isClass(c.nodes.container,"is-expanded"),cm.addEvent(window,"resize",f)},f=function(){cm.addClass(c.nodes.container,"cm__transition-disable"),b&&clearTimeout(b),b=setTimeout(function(){cm.removeClass(c.nodes.container,"cm__transition-disable")},5)};c.expand=function(){return c.isExpanded||(c.isExpanded=!0,cm.replaceClass(c.nodes.container,"is-collapsed","is-expanded"),cm.replaceClass(c.params.target,"is-topmenu--collapsed","is-topmenu--expanded",!0),c.triggerEvent("onExpand")),c},c.collapse=function(){return c.isExpanded&&(c.isExpanded=!1,cm.replaceClass(c.nodes.container,"is-expanded","is-collapsed"),cm.replaceClass(c.params.target,"is-topmenu--expanded","is-topmenu--collapsed",!0),c.triggerEvent("onCollapse")),c},c.toggle=function(){return c.isExpanded?c.collapse():c.expand(),c},c.setActiveItem=function(a){var b;return a&&(b=c.nodes.items[a])&&cm.addClass(b.container,"active"),c},c.unsetActiveItem=function(a){var b;return a&&(b=c.nodes.items[a])&&cm.removeClass(b.container,"active"),c},c.getItem=function(a){var b;return a&&(b=c.nodes.items[a])?b:null},c.getNodes=function(a){return c.nodes[a]||c.nodes},d()});