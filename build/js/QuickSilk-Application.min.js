var App={_version:"3.14.7",Elements:{},Nodes:{},Test:[]},Module={};cm.define("App.AbstractModule",{extend:"Com.AbstractController",params:{renderStructure:!1,embedStructureOnRender:!1}},function(a){var b=this;Com.AbstractController.apply(b,arguments)}),cm.define("App.AbstractForm",{extend:"Com.AbstractController"},function(a){var b=this;Com.AbstractController.apply(b,arguments)}),cm.define("App.Block",{modules:["Params","Events","DataNodes","DataConfig","Stack"],events:["onRenderStart","onRender","onRemove","enableEditing","disableEditing"],params:{node:cm.Node("div"),type:"template-manager",instanceId:!1,positionId:0,zone:0,parentPositionId:0,layerId:0,index:!1,locked:!1,visible:!0,removable:!0,editorName:"app-editor"}},function(a){var b=this;b.isDummy=!1,b.isRemoved=!1,b.isEditing=null,b.styleObject=null,b.dimensions=null,b.components={},b.nodes={container:cm.node("div"),block:{container:cm.node("div"),inner:cm.node("div"),drag:[],menu:{edit:cm.node("div"),duplicate:cm.node("div"),"delete":cm.node("div")}}},b.node=null,b.zone=null,b.zones=[];var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),b.triggerEvent("onRenderStart"),e(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){var a;cm.isNumber(b.params.instanceId)||cm.isString(b.params.instanceId)?(b.params.name=[b.params.type,b.params.instanceId,b.params.positionId].join("_"),b.params.zoneName=[b.params.type,b.params.instanceId,b.params.parentPositionId,b.params.zone].join("_")):(b.params.name=[b.params.type,b.params.positionId].join("_"),b.params.zoneName=[b.params.type,b.params.parentPositionId,b.params.zone].join("_")),(a=b.params.node.getAttribute("data-index"))&&(b.params.index=parseInt(a),b.params.node.removeAttribute("data-index"))},e=function(){b.node=b.params.node,b.getDimensions(),new cm.Finder("App.Zone",b.params.zoneName,null,function(a){f(a,b.params.index)}),new cm.Finder("App.Editor",b.params.editorName,null,function(a){h(a)},{event:"onProcessStart"})},f=function(a,c){a&&(b.zone=a.addBlock(b,c))},g=function(a){a&&(b.zone=a.removeBlock(b),b.zone=null)},h=function(a){a&&(b.components.editor=a.addBlock(b))},i=function(a){a&&(b.components.editor=a.removeBlock(b))};b.enableEditing=function(){return cm.isBoolean(b.isEditing)&&b.isEditing||(b.isEditing=!0,cm.addClass(b.node,"is-editing"),cm.replaceClass(b.node,"is-hidden","is-visible"),b.params.locked||(cm.addClass(b.node,"is-editable"),cm.customEvent.trigger(b.node,"enableEditable",{type:"child",self:!1})),cm.removeClass(b.nodes.block.container,"cm__animate"),cm.customEvent.trigger(b.node,"enableEditing",{type:"child",self:!1}),b.triggerEvent("enableEditing")),b},b.disableEditing=function(){return(!cm.isBoolean(b.isEditing)||b.isEditing)&&(b.isEditing=!1,cm.removeClass(b.node,"is-editing"),b.params.visible||cm.replaceClass(b.node,"is-visible","is-hidden"),b.params.locked||(cm.removeClass(b.node,"is-editable"),cm.customEvent.trigger(b.node,"disableEditable",{type:"child",self:!1})),cm.addClass(b.nodes.block.container,"cm__animate"),cm.customEvent.trigger(b.node,"disableEditing",{type:"child",self:!1}),b.triggerEvent("disableEditing")),b},b.remove=function(){if(!b.isRemoved){for(b.isRemoved=!0,g(b.zone),i(b.components.editor);b.zones.length;)b.zones[0].remove();cm.customEvent.trigger(b.node,"destruct",{type:"child",self:!1}),b.removeFromStack(),cm.remove(b.node),b.triggerEvent("onRemove")}return b},b.addZone=function(a){return b.zones.push(a),b},b.removeZone=function(a){return cm.arrayRemove(b.zones,a),b},b.setZone=function(a,c){return g(b.zone),f(a,c),b},b.unsetZone=function(){return g(b.zone),b},b.getIndex=function(){return b.zone?b.zone.getBlockIndex(b):null},b.getLower=function(){var a=b.getIndex();return b.zone.getBlock(a+1)||null},b.getUpper=function(){var a=b.getIndex();return b.zone.getBlock(a-1)||null},b.getDragNodes=function(){var a=[];return cm.forEach(b.nodes.block.drag,function(b){a.push(b.container)}),a},b.getMenuNodes=function(){return b.nodes.block.menu},b.getInnerNode=function(){return b.nodes.block.inner},b.getDimensions=function(){return b.styleObject||(b.styleObject=cm.getStyleObject(b.node)),b.dimensions=cm.getNodeOffset(b.node,b.styleObject,null),b.dimensions},b.updateDimensions=function(){return b.dimensions=cm.getNodeOffset(b.node,b.styleObject,b.dimensions),b.dimensions},c()}),cm.define("App.Dashboard",{modules:["Params","Events"],events:["onRenderStart","onRender","onDragStart","onMove","onDrop","onRemoveStart","onRemove","onRemoveEnd","onReplaceStart","onReplace","onReplaceEnd","onAppendStart","onAppend","onAppendEnd"],params:{draggableContainer:"document.body",scrollNode:"document.body",scrollSpeed:1,scrollStep:48,useGracefulDegradation:!0,dropDuration:400,moveDuration:200,highlightZones:!0,highlightPlaceholders:!0,placeholderHeight:48,"Com.Overlay":{container:"document.body",duration:0,autoOpen:!1,removeOnClose:!0,showSpinner:!1,showContent:!1,position:"fixed",theme:"transparent"}}},function(a){var b=this;b.isGracefulDegradation=!1,b.isScrollProccess=!1,b.isProccess=!1,b.pointerType=null,b.components={},b.anim={},b.zones=[],b.blocks=[],b.dummyBlocks=[],b.currentZones=null,b.currentBlocks=null,b.currentBlock=null,b.currentBlockOffset=null,b.currentBellow=null;var c=function(){d(),b.setParams(a),b.convertEvents(b.params.events),e(),b.triggerEvent("onRenderStart"),f(),b.triggerEvent("onRender")},d=function(){b.params.dropDuration=cm.getTransitionDurationFromLESS("AppDashboard-DropDuration",b.params.dropDuration),b.params.moveDuration=cm.getTransitionDurationFromLESS("AppDashboard-MoveDuration",b.params.moveDuration)},e=function(){b.params["Com.Overlay"].container=b.params.draggableContainer,b.params.useGracefulDegradation&&(cm.is("IE")&&cm.isVersion()<9||cm.isMobile())&&(b.isGracefulDegradation=!0),b.isGracefulDegradation=!0},f=function(){g(),cm.getConstructor("Com.Overlay",function(a){b.components.overlays=new a(b.params["Com.Overlay"])}),b.anim.scroll=new cm.Animation(b.params.scrollNode)},g=function(){b.currentBellow&&B(),u(),b.currentZones=[],b.currentBlocks=[],b.currentBlock=null,b.currentBlockOffset={left:0,top:0},b.currentBellow={zone:null,block:null,position:null,placeholder:null},b.isProccess=!1},h=function(a,c){if(cm.preventDefault(a),!a.button&&!b.isProccess&&!b.currentBlock){b.isProccess=!0,b.pointerType=a.type;var d=G(a);switch(cm.addClass(document.body,"app__dashboard__body"),b.components.overlays.open(),b.currentZones=x(c),b.currentBlocks=y(c),b.triggerEvent("onDragStart",{item:c,node:c.node,zone:c.zone}),m(c,d),b.params.highlightZones&&D(),v(),t(),A(z(d)),b.pointerType){case"mousedown":cm.addEvent(window,"mousemove",i),cm.addEvent(window,"mouseup",j);break;case"touchstart":cm.addEvent(window,"touchmove",i),cm.addEvent(window,"touchend",j)}cm.addEvent(window,"scroll",k)}},i=function(a){cm.preventDefault(a);var c=G(a);H(c.top+b.params.scrollStep>cm._pageSize.winHeight?1:c.top-b.params.scrollStep<0?-1:0),n(b.currentBlock,c,!0),A(z(c))},j=function(){switch(b.currentBellow.zone&&"remove"!=b.currentBellow.zone.params.type?p(b.currentBlock,{index:b.currentBellow.placeholder.params.index,zone:b.currentBellow.zone,placeholder:b.currentBellow.placeholder,onEnd:g}):o(b.currentBlock,{onEnd:g}),b.params.highlightZones&&E(),b.components.overlays.close(),cm.removeClass(document.body,"app__dashboard__body"),b.pointerType){case"mousedown":cm.removeEvent(window,"mousemove",i),cm.removeEvent(window,"mouseup",j);break;case"touchstart":cm.removeEvent(window,"touchmove",i),cm.removeEvent(window,"touchend",j)}cm.removeEvent(window,"scroll",k)},k=function(a){var b=G(a);w(),A(z(b))},l=function(a){a.placeholders={top:null,bottom:null},cm.forEach(a.getDragNodes(),function(b){cm.addEvent(b,"touchstart",function(b){h(b,a)}),cm.addEvent(b,"mousedown",function(b){h(b,a)}),cm.addEvent(b,"contextmenu",function(a){cm.preventDefault(a)})}),s(a),b.blocks.push(a)},m=function(a,c){var d=a.getDimensions();b.currentBlockOffset.top=c.top-d.outer.top,b.currentBlockOffset.left=c.left-d.outer.left,a.isDummy?b.currentBlock=a.clone():b.currentBlock=a.unsetZone(),cm.appendChild(b.currentBlock.node,b.params.draggableContainer),cm.addClass(b.currentBlock.node,"is-immediately"),cm.addClass(b.currentBlock.node,"is-dragging"),cm.addClass(b.currentBlock.node,"is-active",!0),n(b.currentBlock,{top:d.outer.top,left:d.outer.left,width:d.offset.width}),b.currentBlock.updateDimensions(),setTimeout(function(){cm.removeClass(b.currentBlock.node,"is-immediately")},5)},n=function(a,c,d){var e=c.top,f=c.left,g=c.node||a.node;d&&(e-=b.currentBlockOffset.top,f-=b.currentBlockOffset.left),"undefined"!=typeof c.width&&(g.style.width=[c.width,"px"].join("")),"undefined"!=typeof c.height&&(g.style.height=[c.height,"px"].join("")),"undefined"!=typeof c.opacity&&(g.style.opacity=c.opacity),cm.setCSSTranslate(g,[f,"px"].join(""),[e,"px"].join(""))},o=function(a,c){var d;b.isProccess=!0,c=cm.merge({onStart:function(){},onEnd:function(){},triggerEvent:!0},c),c.onStart(),c.triggerEvent&&b.triggerEvent("onRemoveStart",a),a.node&&cm.hasParentNode(a.node)?(a.updateDimensions(),cm.addClass(a.node,"is-dropping",!0),a===b.currentBlock?(d=a.node,n(a,{left:-a.dimensions.outer.width,top:a.dimensions.outer.top,opacity:0})):(d=cm.Node("div",{"class":"app__dashboard__helper"}),cm.insertAfter(d,a.node),cm.appendChild(a.node,d),cm.transition(d,{properties:{height:"0px",opacity:0},duration:b.params.dropDuration}))):d=a.node,setTimeout(function(){cm.remove(d),a.unsetZone().remove(),c.triggerEvent&&(b.triggerEvent("onRemove",a),b.triggerEvent("onRemoveEnd",a)),b.isProccess=!1,c.onEnd()},b.params.dropDuration)},p=function(a,c){var d,e;c=cm.merge({index:0,zone:null,placeholder:null,onStart:function(){},onEnd:function(){}},c),c.onStart(),c.zone.getDimensions(),a.isDummy&&a.showSpinner(),d=c.zone.dimensions.inner.width-a.dimensions.margin.left-a.dimensions.margin.right,a.node.style.width=[d,"px"].join(""),e=a.node.offsetHeight+a.dimensions.margin.top+a.dimensions.margin.bottom,a.node.style.width=[a.dimensions.offset.width,"px"].join(""),cm.addClass(a.node,"is-dropping",!0),c.placeholder?(c.placeholder.getDimensions(),n(a,{left:c.placeholder.dimensions.outer.left-a.dimensions.margin.left,top:c.placeholder.dimensions.outer.top-a.dimensions.margin.top,width:d}),c.placeholder.show(e,b.params.dropDuration,!0)):n(a,{left:c.zone.dimensions.inner.left-a.dimensions.margin.left,top:c.zone.dimensions.inner.top-a.dimensions.margin.top,width:d}),setTimeout(function(){s(a),c.placeholder?cm.insertAfter(a.node,c.placeholder.node):cm.appendChild(a.node,c.zone.node),a.setZone(c.zone,c.index),b.triggerEvent("onDrop",a),c.onEnd()},b.params.dropDuration)},q=function(a,c){var d,e;b.isProccess=!0,c=cm.merge({block:null,zone:null,triggerEvent:!0,index:!1,onStart:function(){},onEnd:function(){}},c),c.onStart(),c.triggerEvent&&b.triggerEvent("onAppendStart",{node:a}),cm.isNumber(c.index)&&a.setAttribute("data-index",c.index.toString()),e=cm.node("div"),e.style.height=0,c.block?cm.insertAfter(e,c.block.node):cm.appendChild(e,c.zone.node),cm.appendChild(a,e),cm.addClass(a,"is-replacing",!0),cm.addClass(e,"app__dashboard__helper",!0),d=cm.getNodeOffset(a),cm.transition(e,{properties:{height:[d.outer.height,"px"].join("")},duration:b.params.dropDuration}),cm.transition(a,{properties:{opacity:1},duration:b.params.dropDuration}),setTimeout(function(){cm.removeClass(a,"is-replacing"),cm.insertAfter(a,e),cm.remove(e),c.triggerEvent&&(b.triggerEvent("onAppend",{node:a}),b.triggerEvent("onAppendEnd",{node:a})),b.isProccess=!1,c.onEnd()},b.params.dropDuration)},r=function(a,c){var d,e,f=b.params.dropDuration/2;b.isProccess=!0,c=cm.merge({block:null,zone:null,triggerEvent:!0,index:!1,onStart:function(){},onEnd:function(){}},c),c.onStart(),c.triggerEvent&&b.triggerEvent("onReplaceStart",{node:a}),cm.isNumber(c.index)&&a.setAttribute("data-index",c.index.toString()),e=cm.node("div"),c.block?(cm.insertAfter(e,c.block.node),cm.appendChild(c.block.node,e),cm.appendChild(a,e),cm.transition(c.block.node,{properties:{opacity:0},duration:f})):(cm.appendChild(e,c.zone.node),cm.appendChild(a,e),e.style.height=0),cm.addClass(a,"is-replacing",!0),cm.addClass(e,"app__dashboard__helper",!0),d=cm.getNodeOffset(a),cm.transition(e,{properties:{height:[d.outer.height,"px"].join("")},duration:b.params.dropDuration}),cm.transition(a,{properties:{opacity:1},duration:f,delayIn:f}),setTimeout(function(){c.block&&c.block.unsetZone().remove(),cm.removeClass(a,"is-replacing"),cm.insertAfter(a,e),cm.remove(e),c.triggerEvent&&(b.triggerEvent("onReplace",{node:a}),b.triggerEvent("onReplaceEnd",{node:a})),b.isProccess=!1,c.onEnd()},b.params.dropDuration)},s=function(a){cm.removeClass(a.node,"is-immediately is-dragging is-dropping is-active",!0),a.node.style.left="",a.node.style.top="",a.node.style.width="",a.node.style.opacity="",cm.clearCSSTranslate(a.node)},t=function(){var a;cm.forEach(b.currentZones,function(c){c.placeholders=[],c.blocks.length?cm.forEach(c.blocks,function(d,e){d.placeholders={},e||(a=new App.DashboardPlaceholder({highlight:b.params.highlightPlaceholders,animate:!b.isGracefulDegradation,index:e,container:d.node,insert:"insertBefore"}),c.placeholders.push(a)),a=new App.DashboardPlaceholder({highlight:b.params.highlightPlaceholders,animate:!b.isGracefulDegradation,index:e+1,container:d.node,insert:"insertAfter"}),c.placeholders.push(a),d.placeholders.top=c.placeholders[e],d.placeholders.bottom=c.placeholders[e+1]}):(a=new App.DashboardPlaceholder({highlight:b.params.highlightPlaceholders,animate:!b.isGracefulDegradation,index:0,container:c.node,insert:"appendChild"}),c.placeholders.push(a))})},u=function(){cm.forEach(b.currentZones,function(a){cm.forEach(a.placeholders,function(a){a.remove()}),a.placeholders=[]})},v=function(){var a;b.currentBellow.placeholder&&(a=b.currentBellow.placeholder.isShow)&&b.currentBellow.placeholder.hide(0),cm.forEach(b.currentZones,function(a){a.getDimensions()}),cm.forEach(b.currentBlocks,function(a){a.getDimensions()}),b.currentBellow.placeholder&&a&&b.currentBellow.placeholder.restore(0)},w=function(){var a;b.currentBellow.placeholder&&(a=b.currentBellow.placeholder.isShow)&&b.currentBellow.placeholder.hide(0),cm.forEach(b.currentZones,function(a){a.updateDimensions()}),cm.forEach(b.currentBlocks,function(a){a.updateDimensions()}),b.currentBellow.placeholder&&a&&b.currentBellow.placeholder.restore(0)},x=function(a){return b.zones.filter(function(b){return cm.isParent(a.params.node,b.params.node)||b.params.locked||"remove"!=b.params.type&&a.params.type!=b.params.type||"remove"==b.params.type&&!a.params.removable?!1:!0})},y=function(a){return b.blocks.filter(function(b){return cm.isParent(a.params.node,b.params.node)||a.params.type!=b.params.type?!1:!0})},z=function(a){var c={zone:null,block:null,position:null,placeholder:null};return cm.forEach(b.currentZones,function(b){a.left>=b.dimensions.offset.left&&a.left<b.dimensions.offset.right&&a.top>=b.dimensions.offset.top&&a.top<=b.dimensions.offset.bottom&&(c.zone?(b.dimensions.offset.width<c.zone.dimensions.offset.width||b.dimensions.offset.height<c.zone.dimensions.offset.height)&&(c.zone=b):c.zone=b)}),c.zone||(c.zone=b.currentBellow.zone),c.zone&&(cm.forEach(c.zone.blocks,function(b){a.top>=b.dimensions.outer.top&&a.top<=b.dimensions.outer.bottom&&(c.block=b,a.top-b.dimensions.outer.top<b.dimensions.outer.height/2?c.position="top":c.position="bottom")}),!c.block&&c.zone.blocks.length&&(a.top<c.zone.dimensions.inner.top?(c.block=c.zone.blocks[0],c.position="top"):(c.block=c.zone.blocks[c.zone.blocks.length-1],c.position="bottom"))),c.block?c.placeholder=c.block.placeholders[c.position]:c.zone&&(c.placeholder=c.zone.placeholders[0]),c},A=function(a){b.currentBellow.zone&&b.currentBellow.zone.isActive&&b.currentBellow.zone!=a.zone&&b.currentBellow.zone.unactive(),a.zone&&!a.zone.isActive&&a.zone!=b.currentBellow.placeholder&&a.zone.active(),b.currentBellow.placeholder&&b.currentBellow.placeholder.isActive&&b.currentBellow.placeholder!=a.placeholder&&(b.currentBellow.placeholder.unactive(),b.currentBellow.placeholder.hide(b.params.moveDuration)),a.placeholder&&!a.placeholder.isActive&&a.placeholder!=b.currentBellow.placeholder&&(a.placeholder.active(),a.placeholder.show(b.params.placeholderHeight,b.params.moveDuration)),b.currentBellow.zone!=a.zone||b.currentBellow.placeholder!=a.placeholder,b.currentBellow=a},B=function(){b.currentBellow.zone&&b.currentBellow.zone.unactive(),b.currentBellow.placeholder&&b.currentBellow.placeholder.unactive().hide().remove()},C=function(a){a.placeholders=[],b.zones.push(a)},D=function(){cm.forEach(b.currentZones,function(a){a.highlight()})},E=function(){cm.forEach(b.currentZones,function(a){a.unhighlight()})},F=function(a){cm.forEach(a.getDragNodes(),function(b){cm.addEvent(b,"touchstart",function(b){h(b,a)}),cm.addEvent(b,"mousedown",function(b){h(b,a)})}),b.dummyBlocks.push(a)},G=function(a){return"scroll"==a.type?cm._clientPosition:cm.getEventClientPosition(a)},H=function(a){var c=0,d=0;return 0==a?(b.isScrollProccess=!1,b.anim.scroll.stop(),!0):b.isScrollProccess?!0:(b.isScrollProccess=!0,0>a?(d=0,c=cm.getBodyScrollTop()*b.params.scrollSpeed):(d=Math.max(cm.getBodyScrollHeight()-cm._pageSize.winHeight,0),c=d*b.params.scrollSpeed),void b.anim.scroll.go({style:{docScrollTop:d},duration:c,anim:"smooth"}))};b.addBlock=function(a){return a.isDummy?F(a):l(a),b},b.removeBlock=function(a,c){return o(a,c),b},b.replaceBlock=function(a,c){return r(a,c),b},b.appendBlock=function(a,c){return q(a,c),b},b.addZone=function(a){return C(a),b},c()}),cm.define("App.DashboardPlaceholder",{modules:["Params","Events","Langs"],events:["onRenderStart","onRender"],params:{highlight:!0,animate:!0,index:0,container:cm.node("div"),insert:"appendChild"}},function(a){var b=this;b.nodes={},b.node=null,b.styleObject=null,b.offsets=null,b.dimensions=null,b.isAnimate=!1,b.isActive=!1,b.isShow=!1,b.transitionDurationProperty=null,b.height=0;var c=function(){b.setParams(a),b.convertEvents(b.params.events),d(),b.triggerEvent("onRenderStart"),e(),b.triggerEvent("onRender")},d=function(){b.transitionDurationProperty=cm.getSupportedStyle("transition-duration"),b.isAnimate=b.params.animate&&b.transitionDurationProperty},e=function(){b.nodes.container=cm.node("div",{"class":"app__dashboard__placeholder"}),cm[b.params.insert](b.nodes.container,b.params.container),b.node=b.nodes.container,b.getDimensions()};b.active=function(){return b.isActive=!0,cm.addClass(b.nodes.container,"is-active"),b.params.highlight&&cm.addClass(b.nodes.container,"is-highlight"),b},b.unactive=function(){return b.isActive=!1,cm.removeClass(b.nodes.container,"is-active is-highlight"),b},b.show=function(a,c,d){return d="undefined"==typeof d?b.isAnimate:d,b.isShow=!0,d&&(b.nodes.container.style[b.transitionDurationProperty]=[c,"ms"].join("")),b.height=a,b.nodes.container.style.height=[a,"px"].join(""),b},b.hide=function(a,c){return c="undefined"==typeof c?b.isAnimate:c,b.isShow=!1,c&&(b.nodes.container.style[b.transitionDurationProperty]=[a,"ms"].join("")),b.nodes.container.style.height="0px",b},b.restore=function(a){return b.show(b.height,a),b},b.remove=function(){return cm.remove(b.node),b},b.getDimensions=function(){return b.styleObject||(b.styleObject=cm.getStyleObject(b.node)),b.dimensions=cm.getNodeOffset(b.node,b.styleObject,null),b.dimensions},b.updateDimensions=function(){return b.dimensions=cm.getNodeOffset(b.node,b.styleObject,b.dimensions),b.dimensions},c()}),cm.define("App.DummyBlock",{modules:["Params","Events","DataNodes","DataConfig","Stack"],events:["onRenderStart","onRender","onRemove"],params:{node:cm.Node("div"),name:"",keyword:"",type:"template-manager",removable:!0,editorName:"app-editor"}},function(a){var b=this;b.isDummy=!0,b.isEditing=!1,b.isRemoved=!1,b.styleObject=null,b.dimensions=null,b.components={},b.nodes={container:cm.node("div"),dummy:cm.node("div")},b.node=null,b.zone=null;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),b.triggerEvent("onRenderStart"),e(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){b.params.name=[b.params.type,b.params.keyword].join("_")},e=function(){b.node=b.params.node,i(),b.getDimensions(),new cm.Finder("App.Editor",b.params.editorName,null,h,{event:"onProcessStart"})},f=function(a,c){a&&(b.zone=a.addBlock(b,c))},g=function(a){a&&(b.zone=a.removeBlock(b),b.zone=null)},h=function(a){a&&(b.components.editor=a.addBlock(b))},i=function(){b.nodes.spinner=cm.node("div",{"class":"app__block-spinner"},cm.node("div",{"class":"pt__box-loader is-absolute"},cm.node("div",{"class":"inner"}))),b.nodes.container.appendChild(b.nodes.spinner)};b.enableEditing=function(){return cm.isBoolean(b.isEditing)&&b.isEditing||(b.isEditing=!0,cm.addClass(b.params.node,"is-editing is-editable is-visible")),b},b.disableEditing=function(){return(!cm.isBoolean(b.isEditing)||b.isEditing)&&(b.isEditing=!1,cm.removeClass(b.params.node,"is-editing is-editable is-visible")),b},b.setZone=function(a,c){return g(b.zone),f(a,c),b},b.unsetZone=function(){return g(b.zone),b},b.getIndex=function(){return b.zone?b.zone.getBlockIndex(b):null},b.getLower=function(){var a=b.getIndex();return b.zone.getBlock(a)||null},b.getUpper=function(){var a=b.getIndex();return b.zone.getBlock(a-1)||null},b.getDragNodes=function(){return[b.node]},b.showSpinner=function(){return cm.addClass(b.nodes.spinner,"is-visible",!0),b},b.hideSpinner=function(){return cm.removeClass(b.nodes.spinner,"is-visible"),b},b.clone=function(){var a={node:cm.clone(b.node,!0)};return b.cloneComponent(a)},b.remove=function(){return b.isRemoved||(b.isRemoved=!0,b.removeFromStack(),cm.remove(b.node),b.triggerEvent("onRemove")),b},b.getDimensions=function(){return b.styleObject||(b.styleObject=cm.getStyleObject(b.node)),b.dimensions=cm.getNodeOffset(b.node,b.styleObject,null),b.dimensions},b.updateDimensions=function(){return b.dimensions=cm.getNodeOffset(b.node,b.styleObject,b.dimensions),b.dimensions},c()}),cm.define("App.Editor",{modules:["Params","Events","DataConfig","DataNodes","Stack","Storage"],events:["onRenderStart","onRender","onProcessStart","onExpand","onCollapse","onResize","create","place","replace","move","delete","update","duplicate","createRequest","replaceRequest","moveRequest","deleteRequest","updateRequest","duplicateRequest","onProcessEnd"],params:{node:cm.Node("div"),name:"app-editor",topMenuName:"app-topmenu",sidebarName:"app-sidebar",templateName:"app-template",editorType:"template-manager","App.Dashboard":{},"Com.Overlay":{container:"document.body",autoOpen:!1,removeOnClose:!0,showSpinner:!0,showContent:!1,position:"fixed",theme:"light"}}},function(a){var b=this;b.types=["template-manager","form-manager"],b.components={},b.nodes={},b.zones=[],b.blocks=[],b.dummyBlocks=[],b.editorType=null,b.isRendered=!1,b.isProcessed=!1,b.isExpanded=null;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.addToStack(b.params.node),b.triggerEvent("onRenderStart"),d(),e(),b.triggerEvent("onRender")},d=function(){b.editorType=b.params.editorType},e=function(){cm.getConstructor("App.Dashboard",function(a,c){b.components.dashboard=new a(b.params[c]).addEvent("onDrop",k).addEvent("onRemove",l)}),cm.find("App.TopMenu",b.params.topMenuName,null,function(a){b.components.topmenu=a}),cm.find("App.Sidebar",b.params.sidebarName,null,function(a){b.components.sidebar=a.addEvent("onExpandEnd",g).addEvent("onCollapseStart",h).addEvent("onTabShow",function(a,b){j(b.item.id)})}),cm.find("App.Template",b.params.templateName,null,function(a){b.components.template=a}),f()},f=function(){b.triggerEvent("onProcessStart"),cm.addClass(cm.getDocumentHtml(),"is-editor"),b.components.sidebar&&b.components.sidebar.isExpanded?g():h(),!b.components.sidebar&&b.components.topmenu&&i(),b.isRendered=!0},g=function(){cm.isBoolean(b.isExpanded)&&b.isExpanded||(b.isExpanded=!0,cm.replaceClass(cm.getDocumentHtml(),"is-editor--collapsed","is-editor--expanded"),cm.addClass(cm.getDocumentHtml(),"is-editing"),cm.forEach(b.zones,function(a){a.enableEditing()}),cm.forEach(b.blocks,function(a){a.enableEditing()}),cm.forEach(b.dummyBlocks,function(a){a.enableEditing()}),b.components.template.enableEditing(),b.triggerEvent("onExpand"))},h=function(){(!cm.isBoolean(b.isExpanded)||b.isExpanded)&&(b.isExpanded=!1,cm.replaceClass(cm.getDocumentHtml(),"is-editor--expanded","is-editor--collapsed"),cm.removeClass(cm.getDocumentHtml(),"is-editing"),cm.forEach(b.zones,function(a){a.disableEditing()}),cm.forEach(b.blocks,function(a){a.disableEditing()}),cm.forEach(b.dummyBlocks,function(a){a.disableEditing()}),b.components.template.disableEditing(),b.triggerEvent("onCollapse"))},i=function(){cm.find("Com.GridlistHelper",null,null,function(a){a.enableEditing()})},j=function(a){cm.inArray(b.types,a)&&a!=b.editorType&&(b.editorType=a)},k=function(a,c){c.isDummy?b.createRequest(c):b.moveRequest(c)},l=function(a,c){c.isDummy||b.deleteRequest(c)};b.createRequest=function(a){return b.triggerEvent("createRequest",a),b},b.deleteRequest=function(a){return b.triggerEvent("deleteRequest",a),b},b.moveRequest=function(a){return b.triggerEvent("moveRequest",a),b},b.replaceRequest=function(a){return b.triggerEvent("replaceRequest",a),b},b.updateRequest=function(a){return b.triggerEvent("updateRequest",a),b},b.duplicateRequest=function(a){return b.triggerEvent("duplicateRequest",a),b},b.create=function(a,c){return a&&c&&(a=cm.isNode(a)?a:cm.strToHTML(a),b.components.dashboard.replaceBlock(a,{block:c,zone:c.zone,index:c.getIndex(),onEnd:function(){b.triggerEvent("create",a),b.triggerEvent("onProcessEnd",a),b.components.template.redraw()}})),b},b.place=function(a){return a&&block&&(a=cm.isNode(a)?a:cm.strToHTML(a),b.components.dashboard.appendBlock(a,{onEnd:function(){b.triggerEvent("place",a),b.triggerEvent("onProcessEnd",a),b.components.template.redraw()}})),b},b.replace=function(a,c){return a&&c&&(a=cm.isNode(a)?a:cm.strToHTML(a),b.components.dashboard.replaceBlock(a,{block:c,zone:c.zone,index:c.getIndex(),onEnd:function(){b.triggerEvent("replace",a),b.triggerEvent("onProcessEnd",a),b.components.template.redraw()}})),b},b["delete"]=function(a){return a&&b.components.dashboard.removeBlock(a,{triggerEvent:!1,onEnd:function(){b.triggerEvent("delete",a.node),b.triggerEvent("onProcessEnd",a.node),b.components.template.redraw()}}),b},b.duplicate=function(a,c){return a&&c&&(a=cm.isNode(a)?a:cm.strToHTML(a),b.components.dashboard.appendBlock(a,{block:c,zone:c.zone,index:c.getIndex()+1,onEnd:function(){b.triggerEvent("duplicate",a),b.triggerEvent("onProcessEnd",a),b.components.template.redraw()}})),b},b.update=function(a,c){return a&&c&&(a=cm.isNode(a)?a:cm.strToHTML(a),cm.clearNode(c.getInnerNode()),cm.appendChild(a,c.getInnerNode()),b.triggerEvent("update",a),b.triggerEvent("onProcessEnd",a),b.components.template.redraw()),b},b.addZone=function(a){return b.zones.push(a),b.components.dashboard.addZone(a),b.isRendered&&(b.components.sidebar&&b.components.sidebar.isExpanded?a.enableEditing():a.disableEditing()),b},b.removeZone=function(a){return cm.arrayRemove(b.zones,a),b},b.addBlock=function(a){if(a.isDummy)b.dummyBlocks.push(a);else{var c=a.getMenuNodes();cm.addEvent(c.edit,"click",function(){b.replaceRequest(a)}),cm.addEvent(c.duplicate,"click",function(){b.duplicateRequest(a)}),cm.addEvent(c["delete"],"click",function(){b.deleteRequest(a)}),b.blocks.push(a)}return b.components.dashboard.addBlock(a),b.isRendered&&(b.components.sidebar&&b.components.sidebar.isExpanded?a.enableEditing():a.disableEditing()),b},b.removeBlock=function(a){return a.isDummy?cm.arrayRemove(b.dummyBlocks,a):cm.arrayRemove(b.blocks,a),b},c()}),cm.define("App.FileInput",{extend:"Com.FileInput",params:{fileManager:!0,fileManagerConstructor:"App.elFinderFileManagerContainer",fileUploader:!0,fileUploaderConstructor:"App.FileUploaderContainer"}},function(a){var b=this;Com.FileInput.apply(b,arguments)}),cm.define("App.FileUploader",{extend:"Com.FileUploader",params:{completeOnSelect:!0,local:!0,localConstructor:"App.FileUploaderLocal",localParams:{fileList:!1},fileManagerLazy:!0,fileManager:!0,fileManagerConstructor:"App.elFinderFileManager"}},function(a){var b=this;Com.FileUploader.apply(b,arguments)}),cm.define("App.FileUploaderContainer",{extend:"Com.FileUploaderContainer",params:{action:"",constructor:"App.FileUploader"}},function(a){var b=this;Com.FileUploaderContainer.apply(b,arguments)}),cm.getConstructor("App.FileUploaderContainer",function(a,b,c){var d=c._inherit;c.construct=function(){var a=this;return a.isRequest=!1,d.prototype.construct.apply(a,arguments),a},c.validateParams=function(){var a=this;d.prototype.validateParams.apply(a,arguments),a.isRequest=!cm.isEmpty(a.params.action)&&window.Request&&window.Request.send},c.renderControllerEvents=function(){var a=this;return d.prototype.renderControllerEvents.apply(a,arguments),a.isRequest&&a.components.controller.addEvent("onComplete",function(b,c){Request.send(a.params.action,c,"post",{node:a.params.node,controller:a})}),a}}),cm.define("App.FileUploaderLocal",{extend:"Com.FileUploaderLocal",params:{fileListConstructor:"App.MultipleFileInput"}},function(a){var b=this;Com.FileUploaderLocal.apply(b,arguments)}),cm.define("App.HelpTour",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRender"],params:{node:cm.Node("div"),container:"document.body",name:"app-helptour",sidebarName:"app-sidebar",topMenuName:"app-topmenu",templateName:"app-template",duration:500,adaptiveFrom:768,autoStart:!1,popupIndent:24,"Com.Overlay":{container:"document.body",autoOpen:!1,removeOnClose:!0,showSpinner:!1,showContent:!1,name:"",theme:"transparent",position:"absolute"},langs:{next:"Next",back:"Back",close:"Close",cancel:"Cancel",finish:"Finish"}}},function(a){var b=this,c={sidebarCollapsed:0,sidebarExpanded:0,topMenu:0,popupHeight:0,popupSelfHeight:0,popupContentHeight:0},d={sidebarExpanded:!1,sidebarTab:"modules"};b.nodes={},b.components={overlays:{}},b.currentStage=-1,b.currentScene=null,b.currentSceneNode=null,b.previousStage=null,b.previousScene=null,b.previousSceneNode=null,b.sceneIntervals={};var e=function(){f(),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.addToStack(b.params.node),g(),h(),b.triggerEvent("onRender"),b.params.autoStart&&j()},f=function(){b.params.duration=cm.getTransitionDurationFromLESS("AppHelpTour-Duration",b.params.duration),b.params.adaptiveFrom=cm.getLESSVariable("AppHelpTour-AdaptiveFrom",b.params.adaptiveFrom,!0)},g=function(){b.params["Com.Overlay"].container=b.params.container,b.params["Com.Overlay"].name=[b.params.name,"overlay"].join("-")},h=function(){cm.getConstructor("Com.Overlay",function(a){b.components.overlays.main=new a(cm.merge(b.params["Com.Overlay"],{position:"fixed"})),b.components.overlays.sidebar=new a(b.params["Com.Overlay"]),b.components.overlays.topMenu=new a(b.params["Com.Overlay"]),b.components.overlays.template=new a(cm.merge(b.params["Com.Overlay"],{position:"fixed"})),cm.addEvent(b.params.node,"click",j)})},i=function(){c.sidebarCollapsed=cm.getLESSVariable("AppSidebar-WidthCollapsed",0,!0),c.sidebarExpanded=cm.getLESSVariable("AppSidebar-WidthExpanded",0,!0),c.topMenu=cm.getLESSVariable("AppTopMenu-Height",0,!0),c.popupSelfHeight||(c.popupSelfHeight=b.nodes.popup.offsetHeight),b.currentSceneNode&&(c.popupContentHeight=b.currentSceneNode.offsetHeight),c.popupHeight=c.popupSelfHeight+c.popupContentHeight},j=function(){cm.find("App.Sidebar",b.params.sidebarName,null,function(a){b.components.sidebar=a,b.components.overlays.sidebar.embed(b.components.sidebar.getNodes("inner"))}),cm.find("App.TopMenu",b.params.topMenuName,null,function(a){b.components.topMenu=a,b.components.overlays.topMenu.embed(b.components.topMenu.getNodes("inner"))}),cm.find("App.Template",b.params.templateName,null,function(a){b.components.template=a,
b.components.overlays.template.embed(b.components.template.getNodes("container"))}),b.components.sidebar&&b.components.topMenu&&b.components.template?k():cm.errorLog({type:"error",name:b._name.full,message:["Required components does not constructed."].join(" ")})},k=function(){cm.find("Com.AbstractContainer",null,null,function(a){a.close()},{childs:!0}),o(),d.sidebarExpanded=b.components.sidebar.isExpanded,b.components.sidebar.isExpanded&&b.components.sidebar.collapse(),d.sidebarTab=b.components.sidebar.getTab(),b.components.sidebar.unsetTab(),b.components.topMenu.collapse(),cm.forEach(b.components.overlays,function(a){a.open()}),m(0)},l=function(){p(),d.sidebarExpanded&&!b.components.sidebar.isExpanded?b.components.sidebar.expand():!d.sidebarExpanded&&b.components.sidebar.isExpanded&&b.components.sidebar.collapse(),b.components.sidebar.setTab(d.sidebarTab),cm.forEach(b.components.overlays,function(a){a.close()}),n()},m=function(a){App.HelpTourScenario[a]&&(n(),b.currentStage=a,b.currentScene=App.HelpTourScenario[a],cm.forEach(b.currentScene.overlays,function(a,c){b.components.overlays[c].setTheme(a)}),b.currentScene.sidebar?b.components.sidebar.setTab(b.currentScene.sidebar).expand():b.components.sidebar.unsetTab().collapse(),b.components.topMenu.setActiveItem(b.currentScene.topMenu),b.currentScene.arrow&&cm.addClass(b.nodes.popupArrows[b.currentScene.arrow],"is-show"),0==b.currentStage?(b.nodes.back.innerHTML=b.lang("close"),b.nodes.next.innerHTML=b.lang("next")):b.currentStage==App.HelpTourScenario.length-1?(b.nodes.back.innerHTML=b.lang("back"),b.nodes.next.innerHTML=b.lang("finish")):(b.nodes.back.innerHTML=b.lang("back"),b.nodes.next.innerHTML=b.lang("next")),b.currentSceneNode=cm.Node("div",{"class":"popup__content__item",innerHTML:b.currentScene.content}),b.nodes.popupContent.appendChild(b.currentSceneNode),cm.addClass(b.currentSceneNode,"is-show",!0),s(),b.currentScene.construct&&b.currentScene.construct.call(b))},n=function(){b.currentStage>=0&&(b.previousStage=b.currentStage,b.previousScene=b.currentScene,b.previousSceneNode=b.currentSceneNode,b.components.topMenu.unsetActiveItem(b.previousScene.topMenu),b.previousScene.arrow&&cm.removeClass(b.nodes.popupArrows[b.previousScene.arrow],"is-show"),cm.forEach(b.sceneIntervals,function(a){clearInterval(a)}),function(a){setTimeout(function(){cm.remove(a)},b.params.duration)}(b.previousSceneNode),b.previousScene.destruct&&b.previousScene.destruct.call(b)),b.currentStage=-1},o=function(){b.nodes.popupArrows={},b.nodes.popup=cm.Node("div",{"class":"app__helptour__popup"},b.nodes.popupArrows.top=cm.Node("div",{"class":"popup__arrow popup__arrow--top"}),b.nodes.popupArrows.right=cm.Node("div",{"class":"popup__arrow popup__arrow--right"}),b.nodes.popupArrows.bottom=cm.Node("div",{"class":"popup__arrow popup__arrow--bottom"}),b.nodes.popupArrows.left=cm.Node("div",{"class":"popup__arrow popup__arrow--left"}),b.nodes.popupClose=cm.Node("div",{"class":"popup__close",title:b.lang("close")}),b.nodes.popupContent=cm.Node("div",{"class":"popup__content"}),b.nodes.popupButtons=cm.Node("div",{"class":"popup__buttons"},cm.Node("div",{"class":"btn-wrap pull-center"},b.nodes.back=cm.Node("button",b.lang("back")),b.nodes.next=cm.Node("button",b.lang("next"))))),q(),b.params.container.appendChild(b.nodes.popup),cm.addClass(b.nodes.popup,"is-show",!0),cm.addEvent(b.nodes.popupClose,"click",l),cm.addEvent(b.nodes.next,"click",b.next),cm.addEvent(b.nodes.back,"click",b.prev),cm.addEvent(window,"resize",s),cm.addEvent(window,"keydown",r)},p=function(){cm.removeEvent(window,"resize",s),cm.removeEvent(window,"keydown",r),q(),cm.removeClass(b.nodes.popup,"is-show"),setTimeout(function(){cm.remove(b.nodes.popup)},b.params.duration)},q=function(){var a=[Math.round(cm.getX(b.params.node)+b.params.node.offsetWidth/2),"px"].join(""),c=[Math.round(cm.getY(b.params.node)+b.params.node.offsetHeight/2),"px"].join("");cm.setCSSTranslate(b.nodes.popup,a,c,0,"scale(0)")},r=function(a){switch(cm.preventDefault(a),a.keyCode){case 27:l();break;case 37:b.prev();break;case 39:b.next()}},s=function(){var a,d,e,f,g,h;if(b.currentScene){if(d=cm.getPageSize(),d.winWidth>b.params.adaptiveFrom)switch(i(),a=b.currentScene.position.split(":"),g=c.popupContentHeight,a[0]){case"window":switch(a[1]){case"top":f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=b.params.popupIndent;break;case"bottom":f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=d.winHeight-c.popupHeight-b.params.popupIndent;break;case"center":default:f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=Math.round((d.winHeight-c.popupHeight)/2)}break;case"topMenu":switch(a[1]){case"center":default:f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=c.topMenu+b.params.popupIndent}break;case"topMenuItem":h=b.components.topMenu.getItem(a[1]),f=h?a[2]&&"dropdown"==a[2]&&h.dropdown?a[3]&&"left"==a[3]?cm.getX(h.dropdown)-b.nodes.popup.offsetWidth-b.params.popupIndent:cm.getX(h.dropdown)+h.dropdown.offsetWidth+b.params.popupIndent:h.container?a[3]&&"left"==a[3]?cm.getX(h.container)+h.container.offsetWidth-b.nodes.popup.offsetWidth:cm.getX(h.container):Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2):Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=c.topMenu+b.params.popupIndent;break;case"template":switch(a[1]){case"top":f=b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed,f=Math.round((d.winWidth+f-b.nodes.popup.offsetWidth)/2),e=c.topMenu+b.params.popupIndent;break;case"bottom":f=b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed,f=Math.round((d.winWidth+f-b.nodes.popup.offsetWidth)/2),e=d.winHeight-c.popupHeight-b.params.popupIndent;break;case"left":f=(b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed)+b.params.popupIndent,e=Math.round((d.winHeight-c.popupHeight)/2);break;case"left-top":f=(b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed)+b.params.popupIndent,e=c.topMenu+b.params.popupIndent;break;case"center":default:f=b.components.sidebar.isExpanded?c.sidebarExpanded:c.sidebarCollapsed,f=Math.round((d.winWidth+f-b.nodes.popup.offsetWidth)/2),e=Math.round((d.winHeight+c.topMenu-c.popupHeight)/2)}break;default:f=Math.round((d.winWidth-b.nodes.popup.offsetWidth)/2),e=Math.round((d.winHeight-c.popupHeight)/2)}else f=0,e=0,g="auto";b.nodes.popupContent.style.height="auto"==g?g:[g,"px"].join(""),cm.setCSSTranslate(b.nodes.popup,[f,"px"].join(""),[e,"px"].join(""),0,"scale(1)")}};b.start=function(){return j(),b},b.stop=function(){return l(),b},b.next=function(){return b.currentStage>=0&&(App.HelpTourScenario[b.currentStage+1]?m(b.currentStage+1):l()),b},b.prev=function(){return b.currentStage>=0&&(App.HelpTourScenario[b.currentStage-1]?m(b.currentStage-1):l()),b},e()}),App.HelpTourScenario=[{position:"window:center",arrow:!1,overlays:{main:"transparent",sidebar:"dark",topMenu:"dark",template:"dark"},sidebar:!1,topMenu:!1,content:"<h3>QuickSilk Online Tour!</h3><p>Welcome to QuickSilk! Use the buttons at the bottom of each help bubble to quickly discover how to navigate and use the QuickSilk software. This online tour automatically appears the first time you login. Anytime after this, simply click on the help tour menu item for a quick refresher.</p>"},{position:"topMenuItem:user:dropdown:left",arrow:"right",overlays:{main:"transparent",sidebar:"dark",topMenu:"transparent",template:"dark"},sidebar:!1,topMenu:"user",content:"<h3>User Menu</h3><p>Click on your name to view the admin panel (future), your profile, or to logout. The View Profile link provides the ability to manage your subscription and billing, password, forum settings, working groups and public profile.</p>"},{position:"topMenuItem:modules:dropdown:right",arrow:"left",overlays:{main:"transparent",sidebar:"dark",topMenu:"transparent",template:"dark"},sidebar:!1,topMenu:"modules",content:"<h3>Modules</h3><p>The Module manager allows you to work on your modules from the administration panel. Simply mouse over the Modules menu and then scroll down and click on the module you wish to work with. </p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:!1,topMenu:!1,content:"<h3>Left Panel Slider</h3><p>The left slider widget provides you with quick access to the modules, pages, layouts and template features. Simply click on the icon for the tab you wish to use.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"template-manager",topMenu:!1,content:"<h3>Installed Modules</h3><p>The modules tab provides quick access to the modules that you've subscribed to. Once you've opened a page or a template, open the modules tab to drag and drop the modules you wish to include.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"pages",topMenu:!1,content:"<h3>Site Pages</h3><p>The site pages tab allows you to quickly open, modify and manage your website pages. Simply open the tab and click on the web page you wish to work on.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"layouts",topMenu:!1,content:"<h3>Page Layouts</h3><p>Use the page layout tab to open, modify and manage the layouts of your various web page templates. A page layout will consist of the common elements you have on every page.</p>"},{position:"template:left-top",arrow:"left",overlays:{main:"transparent",sidebar:"transparent",topMenu:"dark",template:"dark"},sidebar:"templates",topMenu:!1,content:"<h3>Templates</h3><p>The templates tab displays the different custom or predesigned templates that you've installed and are immediately available for use on your website. If you want to view or install other templates, you'll do so from the template gallery.</p>"},{position:"template:center",arrow:!1,overlays:{main:"transparent",sidebar:"dark",topMenu:"dark",template:"light"},sidebar:!1,topMenu:!1,content:"<h3>Drop Area</h3><p>The drop area is where you drag and drop the modules. To move a module onto a page or template place your mouse on the desired module icon, hold down the left button on your mouse, and drag the module to the highlighted area of the page you wish to drop it, then let go of the mouse button.</p>"},{position:"topMenuItem:support:container:right",arrow:"top",overlays:{main:"transparent",sidebar:"dark",topMenu:"transparent",template:"dark"},sidebar:!1,topMenu:"support",content:"<h3>Need Help?</h3><p>Are you stuck, experiencing an issue, found a bug or have a suggestion? Simply click on this link and send us a message. FYI, to assist in the troubleshooting process we automatically collect information on the operating system, browser and browser version you are using. Our goal is to respond to your message within 1 business day.</p>"}],cm.define("App.ImageInput",{extend:"Com.ImageInput",params:{fileManager:!0,fileManagerConstructor:"App.elFinderFileManagerContainer",fileUploader:!0,fileUploaderConstructor:"App.FileUploaderContainer"}},function(a){var b=this;Com.ImageInput.apply(b,arguments)}),cm.define("App.LivePreviewContent",{extend:"Com.AbstractController",params:{name:"app-livepreview",renderStructure:!0,embedStructureOnRender:!1,"Com.Overlay":{removeOnClose:!0,showSpinner:!0,showContent:!1,position:"absolute",theme:"light"}}},function(a){var b=this;b.isPower=!0,b.isPowerProcess=!1,b.powerCount=0,Com.AbstractController.apply(b,arguments)}),cm.getConstructor("App.LivePreviewContent",function(a,b,c){var d=c._inherit;c.construct=function(){var a=this;return a.devicePowerToggleHandler=a.devicePowerToggle.bind(a),d.prototype.construct.apply(a,arguments),a},c.renderView=function(){var a=this;return a.renderLoaderView(),a},c.renderViewModel=function(){var a=this;return d.prototype.renderViewModel.apply(a,arguments),cm.getConstructor("Com.Overlay",function(b,c){a.components.overlay=new b(cm.merge(a.params[c],{container:a.nodes.deviceScreen}))}),cm.addEvent(a.nodes.iframe,"load",function(){a.components.overlay&&a.components.overlay.close()}),cm.addEvent(a.nodes.devicePower,"mousedown",a.devicePowerToggleHandler),a},c.setView=function(a){var b=this;return cm.removeClass(b.nodes.container,"is-desktop is-tablet is-mobile"),cm.addClass(b.nodes.container,["is",a].join("-")),b},c.setTemplate=function(a){var b=this;return b.components.overlay&&b.components.overlay.open(),b.nodes.iframe.src=a,b},c.renderLoaderView=function(){var a=this;return a.nodes.loader={},a.nodes.loader.container=cm.node("div",{"class":"device__loader is-hidden"},cm.node("div",{"class":"inner"},cm.node("div",{"class":"icon app-i__quicksilk"}))),a.nodes.blues={},a.nodes.blues.container=cm.node("div",{"class":"device__blues is-hidden"},cm.node("div",{"class":"inner"},cm.node("p","A problem has been detected and QuickSilk has been shut down to prevent damage to your device."),cm.node("p","The problem seems to be caused by the following file: FAKEPOWERBUTTON.SYS"),cm.node("p","POWER_FAULT_IN_NONPOWERED_BUTTON"),cm.node("p","If this is the first time you've seen this Stop error screen, restart your device. If this screen appears again, check to make sure you are not pressing power button."),cm.node("p","Technical Information:"),cm.node("p","*** START"),cm.node("p","010101000110100001100101011100100110010100100000011000010111001001100101001000000110111001101111001000000100010101100001011100110111010001100101011100100010000001000101011001110110011101110011001000000111010101110000001000000110100001100101011100100110010100101100001000000110011101101111001000000110000101110111011000010111100100100001"),cm.node("p","*** END"))),cm.appendChild(a.nodes.blues.container,a.nodes.deviceScreen),cm.appendChild(a.nodes.loader.container,a.nodes.deviceScreen),a},c.devicePowerToggle=function(){var a=this;return a.isPowerProcess||(a.isPower?a.devicePowerOff():a.devicePowerOn()),a},c.devicePowerOff=function(){var a=this;return a.isPower=!1,a.isPowerProcess=!0,cm.addClass(a.nodes.deviceContent,"is-hidden"),cm.addClass(a.nodes.blues.container,"is-hidden"),setTimeout(function(){a.isPowerProcess=!1},500),a},c.devicePowerOn=function(){var a=this;return a.powerCount++,a.isPower=!0,a.isPowerProcess=!0,1==a.powerCount?a.devicePowerOnFailed():a.devicePowerOnNormal(),a},c.devicePowerOnNormal=function(){var a=this;return cm.replaceClass(a.nodes.deviceContent,"is-hidden","is-loading"),cm.removeClass(a.nodes.loader.container,"is-hidden"),setTimeout(function(){cm.removeClass(a.nodes.deviceContent,"is-loading"),cm.addClass(a.nodes.loader.container,"is-loaded"),setTimeout(function(){cm.replaceClass(a.nodes.loader.container,"is-loaded","is-hidden"),setTimeout(function(){a.isPowerProcess=!1},500)},500)},1500),a},c.devicePowerOnFailed=function(){var a=this;return cm.replaceClass(a.nodes.blues.container,"is-hidden","is-loading"),cm.removeClass(a.nodes.loader.container,"is-hidden"),setTimeout(function(){cm.removeClass(a.nodes.blues.container,"is-loading"),cm.addClass(a.nodes.loader.container,"is-loaded"),setTimeout(function(){cm.replaceClass(a.nodes.loader.container,"is-loaded","is-hidden"),setTimeout(function(){a.isPowerProcess=!1},500)},500)},1500),a}}),cm.define("App.LivePreviewMenu",{extend:"Com.AbstractController",params:{name:"app-livepreview",topMenuName:"app-topmenu",contentName:"app-livepreview",renderStructure:!1,embedStructureOnRender:!1}},function(a){var b=this;b.template=null,Com.AbstractController.apply(b,arguments)}),cm.getConstructor("App.LivePreviewMenu",function(a,b,c){var d=c._inherit;c.renderViewModel=function(){var a=this;return d.prototype.renderViewModel.apply(a,arguments),cm.find("Com.Select","templates",a.nodes.container,function(b){a.components.select=b,a.components.select.addEvent("onChange",function(b,c){a.setTemplate(c)}),a.setTemplate(a.components.select.get())}),new cm.Finder("App.TopMenu",a.params.topMenuName,null,function(b){a.components.topMenu=b}),new cm.Finder("App.LivePreviewContent",a.params.contentName,null,function(b){a.components.content=b}),cm.addEvent(a.nodes.desktop,"click",function(){a.reset(),a.setView("desktop")}),cm.addEvent(a.nodes.tablet,"click",function(){a.reset(),a.setView("tablet")}),cm.addEvent(a.nodes.mobile,"click",function(){a.reset(),a.setView("mobile")}),cm.addEvent(a.nodes.select,"click",function(){a.storageWrite("template",a.template);try{window.close()}catch(b){}}),a},c.reset=function(){var a=this;return cm.removeClass(a.nodes.desktop,"active"),cm.removeClass(a.nodes.tablet,"active"),cm.removeClass(a.nodes.mobile,"active"),a},c.setView=function(a){var b=this;return cm.addClass(b.nodes[a],"active"),b.components.content&&b.components.content.setView(a),b.components.topMenu&&b.components.topMenu.collapse(),b},c.setTemplate=function(a){var b=this;return b.template=a,b.components.content&&b.components.content.setTemplate(a),b.components.topMenu&&b.components.topMenu.collapse(),b}}),cm.define("App.LoginBox",{modules:["Params","DataConfig","DataNodes"],events:["onRender"],params:{node:cm.Node("div"),"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,preventClickEvent:!0,adaptiveX:!0,adaptiveY:!0,left:"(targetWidth - selfWidth) / 2",top:"targetHeight + 8",className:"app-pt__box-login__tooltip"}}},function(a){var b=this,c={};b.nodes={button:cm.Node("div"),target:cm.Node("div")};var d=function(){b.setParams(a),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),e()},e=function(){c.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{target:b.nodes.button,content:b.nodes.target,events:{onShow:f}}))},f=function(){var a=cm.getByAttr("type","text",b.nodes.target)[0];a&&a.focus()};d()}),cm.define("App.MenuConstructor",{extend:"App.AbstractForm",params:{node:cm.node("div"),embedStructure:"none",renderStructure:!1,collectorPriority:100,namePrefix:"params"}},function(a){var b=this;b.items={},App.AbstractForm.apply(b,arguments)}),cm.getConstructor("App.MenuConstructor",function(a,b,c){var d=c._inherit;c.construct=function(){var a=this;return a.destructProcessHander=a.destructProcess.bind(a),a.addEvent("onDestructProcess",a.destructProcessHander),d.prototype.construct.apply(a,arguments),a},c.destructProcess=function(){var a=this;return a.components.finder&&a.components.finder.remove(),a},c.renderViewModel=function(){var a=this;return d.prototype.renderViewModel.apply(a,arguments),cm.forEach(App.MenuConstructorNames,function(b,c){var d={variable:c,name:a.getName(b),selfName:a.getSelfName(b)};cm.find("*",d.name,a.nodes.container,function(b){d.controller=b,d.controller.addEvent("onChange",function(b,c){d.value=c,a.processPreview()}),d.value=d.controller.get()}),a.items[d.variable]=d}),a.components.finder=new cm.Finder("App.MenuConstructorPreview",null,null,function(b){a.components.preview=b,a.processPreview()},{multiple:!0}),a},c.getName=function(a){var b=this;return b.params.namePrefix+a.split(".").map(function(a){return"["+a+"]"}).join("")},c.getSelfName=function(a){return a.split(".").pop()},c.processPreview=function(){var a,b=this,c={};cm.forEach(b.items,function(b){if(void 0!==b.value)switch(b.value._type){case"file":c[b.variable]=cm.URLToCSSURL(b.value.url);break;case"font":cm.forEach(b.value,function(a,d){c[b.variable+App.MenuConstructorNamesFont[d]]=a});break;default:/BorderSize|Padding/.test(b.variable)&&(a=b.value.split(/\s+/),cm.forEach(App.MenuConstructorNamesBox,function(d,e){c[[b.variable,d].join("-")]=a[e]})),c[b.variable]=b.value}}),b.components.preview&&b.components.preview.set(c)}}),App.MenuConstructorNamesBox=["Top","Right","Bottom","Left"],App.MenuConstructorNamesFont={"line-height":"LineHeight","font-weight":"Weight","font-style":"Style","text-decoration":"Decoration","font-family":"Family","font-size":"Size",color:"Color"},App.MenuConstructorNames={"Primary-Item-Padding":"primary_items.inner-padding","Primary-Item-Indent":"primary_items.inner-between","Primary-Default-BackgroundColor":"primary_items.default.background-color","Primary-Default-BackgroundImage":"primary_items.default.background-image","Primary-Default-BackgroundRepeat":"primary_items.default.background-repeat","Primary-Default-BackgroundPosition":"primary_items.default.background-position","Primary-Default-BackgroundScaling":"primary_items.default.background-scaling","Primary-Default-BackgroundAttachment":"primary_items.default.background-attachment","Primary-Default-BorderSize":"primary_items.default.border-size","Primary-Default-BorderStyle":"primary_items.default.border-style","Primary-Default-BorderColor":"primary_items.default.border-color","Primary-Default-BorderRadius":"primary_items.default.border-radius","Primary-Default-FontLineHeight":"primary_items.default.font.line-height","Primary-Default-FontWeight":"primary_items.default.font.font-weight","Primary-Default-FontStyle":"primary_items.default.font.font-style","Primary-Default-FontDecoration":"primary_items.default.font.text-decoration","Primary-Default-FontFamily":"primary_items.default.font.font-family","Primary-Default-FontSize":"primary_items.default.font.font-size","Primary-Default-FontColor":"primary_items.default.font.color","Primary-Default-Font":"primary_items.default.font","Primary-Hover-BackgroundColor":"primary_items.hover.background-color","Primary-Hover-BackgroundImage":"primary_items.hover.background-image","Primary-Hover-BackgroundRepeat":"primary_items.hover.background-repeat","Primary-Hover-BackgroundPosition":"primary_items.hover.background-position","Primary-Hover-BackgroundScaling":"primary_items.hover.background-scaling","Primary-Hover-BackgroundAttachment":"primary_items.hover.background-attachment","Primary-Hover-BorderSize":"primary_items.hover.border-size","Primary-Hover-BorderStyle":"primary_items.hover.border-style","Primary-Hover-BorderColor":"primary_items.hover.border-color","Primary-Hover-BorderRadius":"primary_items.hover.border-radius","Primary-Hover-FontLineHeight":"primary_items.hover.font.line-height","Primary-Hover-FontWeight":"primary_items.hover.font.font-weight","Primary-Hover-FontStyle":"primary_items.hover.font.font-style","Primary-Hover-FontDecoration":"primary_items.hover.font.text-decoration","Primary-Hover-FontFamily":"primary_items.hover.font.font-family","Primary-Hover-FontSize":"primary_items.hover.font.font-size","Primary-Hover-FontColor":"primary_items.hover.font.color","Primary-Hover-Font":"primary_items.hover.font","Primary-Active-BackgroundColor":"primary_items.active.background-color","Primary-Active-BackgroundImage":"primary_items.active.background-image","Primary-Active-BackgroundRepeat":"primary_items.active.background-repeat","Primary-Active-BackgroundPosition":"primary_items.active.background-position","Primary-Active-BackgroundScaling":"primary_items.active.background-scaling","Primary-Active-BackgroundAttachment":"primary_items.active.background-attachment","Primary-Active-BorderSize":"primary_items.active.border-size","Primary-Active-BorderStyle":"primary_items.active.border-style","Primary-Active-BorderColor":"primary_items.active.border-color","Primary-Active-BorderRadius":"primary_items.active.border-radius","Primary-Active-FontLineHeight":"primary_items.active.font.line-height","Primary-Active-FontWeight":"primary_items.active.font.font-weight","Primary-Active-FontStyle":"primary_items.active.font.font-style","Primary-Active-FontDecoration":"primary_items.active.font.text-decoration","Primary-Active-FontFamily":"primary_items.active.font.font-family","Primary-Active-FontSize":"primary_items.active.font.font-size","Primary-Active-FontColor":"primary_items.active.font.color","Primary-Active-Font":"primary_items.active.font","Primary-Container-Padding":"primary_container.inner-padding","Primary-Container-BackgroundColor":"primary_container.background-color","Primary-Container-BackgroundImage":"primary_container.background-image","Primary-Container-BackgroundRepeat":"primary_container.background-repeat","Primary-Container-BackgroundPosition":"primary_container.background-position","Primary-Container-BackgroundScaling":"primary_container.background-scaling","Primary-Container-BackgroundAttachment":"primary_container.background-attachment","Primary-Container-BorderSize":"primary_container.border-size","Primary-Container-BorderStyle":"primary_container.border-style","Primary-Container-BorderColor":"primary_container.border-color","Primary-Container-BorderRadius":"primary_container.border-radius","Secondary-Item-Padding":"secondary_items.inner-padding","Secondary-Item-Indent":"secondary_items.inner-between","Secondary-Default-BackgroundColor":"secondary_items.default.background-color","Secondary-Default-BackgroundImage":"secondary_items.default.background-image","Secondary-Default-BackgroundRepeat":"secondary_items.default.background-repeat","Secondary-Default-BackgroundPosition":"secondary_items.default.background-position","Secondary-Default-BackgroundScaling":"secondary_items.default.background-scaling","Secondary-Default-BackgroundAttachment":"secondary_items.default.background-attachment","Secondary-Default-BorderSize":"secondary_items.default.border-size","Secondary-Default-BorderStyle":"secondary_items.default.border-style","Secondary-Default-BorderColor":"secondary_items.default.border-color","Secondary-Default-BorderRadius":"secondary_items.default.border-radius","Secondary-Default-FontLineHeight":"secondary_items.default.font.line-height","Secondary-Default-FontWeight":"secondary_items.default.font.font-weight","Secondary-Default-FontStyle":"secondary_items.default.font.font-style","Secondary-Default-FontDecoration":"secondary_items.default.font.text-decoration","Secondary-Default-FontFamily":"secondary_items.default.font.font-family","Secondary-Default-FontSize":"secondary_items.default.font.font-size","Secondary-Default-FontColor":"secondary_items.default.font.color","Secondary-Default-Font":"secondary_items.default.font","Secondary-Hover-BackgroundColor":"secondary_items.hover.background-color","Secondary-Hover-BackgroundImage":"secondary_items.hover.background-image","Secondary-Hover-BackgroundRepeat":"secondary_items.hover.background-repeat","Secondary-Hover-BackgroundPosition":"secondary_items.hover.background-position","Secondary-Hover-BackgroundScaling":"secondary_items.hover.background-scaling","Secondary-Hover-BackgroundAttachment":"secondary_items.hover.background-attachment","Secondary-Hover-BorderSize":"secondary_items.hover.border-size","Secondary-Hover-BorderStyle":"secondary_items.hover.border-style","Secondary-Hover-BorderColor":"secondary_items.hover.border-color","Secondary-Hover-BorderRadius":"secondary_items.hover.border-radius","Secondary-Hover-FontLineHeight":"secondary_items.hover.font.line-height","Secondary-Hover-FontWeight":"secondary_items.hover.font.font-weight","Secondary-Hover-FontStyle":"secondary_items.hover.font.font-style","Secondary-Hover-FontDecoration":"secondary_items.hover.font.text-decoration","Secondary-Hover-FontFamily":"secondary_items.hover.font.font-family","Secondary-Hover-FontSize":"secondary_items.hover.font.font-size","Secondary-Hover-FontColor":"secondary_items.hover.font.color","Secondary-Hover-Font":"secondary_items.hover.font","Secondary-Active-BackgroundColor":"secondary_items.active.background-color","Secondary-Active-BackgroundImage":"secondary_items.active.background-image","Secondary-Active-BackgroundRepeat":"secondary_items.active.background-repeat","Secondary-Active-BackgroundPosition":"secondary_items.active.background-position","Secondary-Active-BackgroundScaling":"secondary_items.active.background-scaling","Secondary-Active-BackgroundAttachment":"secondary_items.active.background-attachment","Secondary-Active-BorderSize":"secondary_items.active.border-size","Secondary-Active-BorderStyle":"secondary_items.active.border-style","Secondary-Active-BorderColor":"secondary_items.active.border-color","Secondary-Active-BorderRadius":"secondary_items.active.border-radius","Secondary-Active-FontLineHeight":"secondary_items.active.font.line-height","Secondary-Active-FontWeight":"secondary_items.active.font.font-weight","Secondary-Active-FontStyle":"secondary_items.active.font.font-style","Secondary-Active-FontDecoration":"secondary_items.active.font.text-decoration","Secondary-Active-FontFamily":"secondary_items.active.font.font-family","Secondary-Active-FontSize":"secondary_items.active.font.font-size","Secondary-Active-FontColor":"secondary_items.active.font.color","Secondary-Active-Font":"secondary_items.active.font","Secondary-Container-Padding":"secondary_container.inner-padding","Secondary-Container-BackgroundColor":"secondary_container.background-color","Secondary-Container-BackgroundImage":"secondary_container.background-image","Secondary-Container-BackgroundRepeat":"secondary_container.background-repeat","Secondary-Container-BackgroundScaling":"secondary_container.background-scaling","Secondary-Container-BackgroundPosition":"secondary_container.background-position","Secondary-Container-BackgroundAttachment":"secondary_container.background-attachment","Secondary-Container-BorderSize":"secondary_container.border-size","Secondary-Container-BorderStyle":"secondary_container.border-style","Secondary-Container-BorderColor":"secondary_container.border-color","Secondary-Container-BorderRadius":"secondary_container.border-radius","Mobile-Padding":"mobile.inner-padding","Mobile-BackgroundColor":"mobile.background-color","Mobile-BackgroundImage":"mobile.menu-icon","Mobile-BorderSize":"mobile.border-size","Mobile-BorderStyle":"mobile.border-style","Mobile-BorderColor":"mobile.border-color","Mobile-BorderRadius":"mobile.border-radius","Mobile-FontLineHeight":"mobile.font.line-height","Mobile-FontWeight":"mobile.font.font-weight","Mobile-FontStyle":"mobile.font.font-style","Mobile-FontDecoration":"mobile.font.font-style","Mobile-FontFamily":"mobile.font.font-family","Mobile-FontSize":"mobile.font.font-size","Mobile-FontColor":"mobile.font.font-color","Mobile-Font":"mobile.font"},cm.define("App.MenuConstructorPreview",{extend:"Com.AbstractController",params:{node:cm.node("div"),embedStructure:"none",renderStructure:!1,collectorPriority:100}},function(a){var b=this;b.lessDefault=null,b.lessVariables={},Com.AbstractController.apply(b,arguments)}),cm.getConstructor("App.MenuConstructorPreview",function(a,b,c){var d=c._inherit;c.set=function(a){var b=this;return b.lessVariables=a||{},b.parseLess(),b},c.renderViewModel=function(){var a=this;return d.prototype.renderViewModel.apply(a,arguments),a.lessDefault=a.nodes.less.innerHTML,cm.loadScript({path:"less",src:"%assetsUrl%/libs/less/less.min.js?%version%",callback:function(b){b&&(a.components.less=b,a.parseLess())}}),cm.find("Module.Menu",null,a.nodes.contentInner,function(b){a.components.menu=b}),cm.find("Com.ColorPicker","background",a.nodes.title.container,function(b){a.components.background=b,a.components.background.addEvent("onChange",function(b,c){a.nodes.contentInner.style.backgroundColor=c})}),cm.find("Com.Select","view",a.nodes.title.container,function(b){a.components.view=b,a.components.view.addEvent("onChange",function(b,c){switch(a.components.menu&&a.components.menu.setView(c),c){case"horizontal":a.components.submenu&&a.components.submenu.set("dropdown"),cm.addClass(a.nodes.title.toolbar.submenu,"is-hidden");break;case"vertical":a.components.submenu&&a.components.submenu.set("visible"),cm.removeClass(a.nodes.title.toolbar.submenu,"is-hidden");break;case"mobile":cm.addClass(a.nodes.title.toolbar.submenu,"is-hidden")}})}),cm.find("Com.Select","submenu",a.nodes.title.container,function(b){a.components.submenu=b,a.components.submenu.addEvent("onChange",function(b,c){a.components.menu&&a.components.menu.setSubmenuView(c)})}),cm.find("Com.Select","align",a.nodes.title.container,function(b){a.components.align=b,a.components.align.addEvent("onChange",function(b,c){a.components.menu&&a.components.menu.setAlign(c)})}),a},c.parseLess=function(){var a=this;return a.components.less&&a.components.less.render(a.lessDefault,{
modifyVars:a.lessVariables},function(b,c){c&&!cm.isEmpty(c.css)&&(a.nodes.css.innerHTML=c.css)}),a}}),cm.define("App.MultipleFileInput",{extend:"Com.MultipleFileInput",params:{inputConstructor:"App.FileInput",local:!0,fileManager:!0,fileManagerConstructor:"App.elFinderFileManagerContainer",fileUploader:!0,fileUploaderConstructor:"App.FileUploaderContainer"}},function(a){var b=this;Com.MultipleFileInput.apply(b,arguments)}),cm.define("App.Panel",{extend:"Com.AbstractController",events:["onOpenStart","onOpen","onOpenEnd","onCloseStart","onClose","onCloseEnd","onError","onSaveStart","onSave","onSaveEnd","onSaveError","onSaveSuccess","onSaveFailure","onLoadStart","onLoad","onLoadEnd","onLoadError","onCancelStart","onCancel"],params:{node:cm.node("div"),container:"document.body",name:"",embedStructure:"append",embedStructureOnRender:!1,customEvents:!0,constructCollector:!0,removeOnDestruct:!0,type:"full",duration:"cm._config.animDurationLong",autoOpen:!0,destructOnClose:!0,removeOnClose:!0,showCloseButton:!0,showBackButton:!1,showButtons:!0,showOverlay:!0,overlayDelay:0,overlayPosition:"content",title:null,content:null,responseKey:"data",responseContentKey:"data.content",responseTitleKey:"data.title",responseStatusKey:"data.success",responsePreviewKey:"data.preview",renderContentOnSuccess:!1,closeOnSuccess:!0,get:{type:"json",method:"GET",url:"",params:""},post:{type:"json",method:"POST",url:"",params:""},langs:{close:"Close",back:"Back",cancel:"Cancel",save:"Save",saving:"Saving...",reload:"Reload",cancelDescription:"Cancel"},"Com.Request":{wrapContent:!0,swapContentOnError:!1,renderContentOnSuccess:!1,autoSend:!1,responseKey:"data",responseHTML:!0},"Com.Overlay":{autoOpen:!1,removeOnClose:!0,showSpinner:!0,showContent:!1,position:"absolute",theme:"light"}}},function(a){var b=this;Com.AbstractController.apply(b,arguments)}),cm.getConstructor("App.Panel",function(a,b,c){var d=c._inherit;c.construct=function(a){var b=this;return b.nodes={},b.components={},b.isOpen=!1,b.isHide=!1,b.isLoaded=!1,b.isDestructed=!1,b.isProccesing=!1,b.destructOnClose=!1,b.hasGetRequest=!1,b.hasPostRequest=!1,b.isGetRequest=!1,b.isPostRequest=!1,b.transitionInterval=null,b.openHandler=b.open.bind(b),b.closeHandler=b.close.bind(b),b.saveHandler=b.save.bind(b),b.cancelHandler=b.cancel.bind(b),b.loadHandler=b.load.bind(b),b.transitionOpenHandler=b.transitionOpen.bind(b),b.transitionCloseHandler=b.transitionClose.bind(b),b.windowKeydownHandler=b.windowKeydown.bind(b),b.constructEndHandler=b.constructEnd.bind(b),b.setEventsProcessHandler=b.setEventsProcess.bind(b),b.unsetEventsProcessHandler=b.unsetEventsProcess.bind(b),b.addEvent("onConstructEnd",b.constructEndHandler),b.addEvent("onSetEventsProcess",b.setEventsProcessHandler),b.addEvent("onUnsetEventsProcess",b.unsetEventsProcessHandler),d.prototype.construct.apply(b,arguments),b},c.destruct=function(){var a=this;return a.isOpen?(a.destructOnClose=!0,a.close()):a.isDestructed||(a.destructOnClose=a.params.destructOnClose,d.prototype.destruct.apply(a,arguments)),a},c.constructEnd=function(){var a=this;return a.params.autoOpen&&a.open(),a},c.getLESSVariables=function(){var a=this;return a.triggerEvent("onGetLESSVariablesStart"),a.triggerEvent("onGetLESSVariablesProcess"),a.params.duration=cm.getTransitionDurationFromLESS("AppPanel-Duration",a.params.duration),a.triggerEvent("onGetLESSVariablesEnd"),a},c.validateParams=function(){var a=this;return a.triggerEvent("onValidateParamsStart"),a.triggerEvent("onValidateParamsProcess"),a.params["Com.Request"]["Com.Overlay"]=a.params["Com.Overlay"],a.params["Com.Request"].showOverlay=a.params.showOverlay,a.params["Com.Request"].overlayDelay=a.params.overlayDelay,a.params["Com.Request"].responseKey=a.params.responseKey,a.params["Com.Request"].responseHTMLKey=a.params.responseContentKey,a.params["Com.Request"].responseStatusKey=a.params.responseStatusKey,a.params["Com.Request"].renderContentOnSuccess=a.params.renderContentOnSuccess,a.destructOnClose=a.params.destructOnClose,a.hasGetRequest=!cm.isEmpty(a.params.get.url),a.hasPostRequest=!cm.isEmpty(a.params.post.url),a.triggerEvent("onValidateParamsEnd"),a},c.setEventsProcess=function(){var a=this;return cm.addEvent(window,"keydown",a.windowKeydownHandler),a},c.unsetEventsProcess=function(){var a=this;return cm.removeEvent(window,"keydown",a.windowKeydownHandler),a},c.open=function(){var a=this;return a.isDestructed&&(a.setEvents(),a.isDestructed=!1),a.isOpen||(a.embedStructure(a.nodes.container),a.addToStack(a.nodes.container),a.triggerEvent("onOpenStart"),a.hasGetRequest?a.load():(a.isLoaded=!0,a.showButton(["close","save"]),a.params.showButtons&&a.showButtons(!0),cm.customEvent.trigger(a.nodes.contentHolder,"redraw",{type:"child",self:!1})),a.nodes.contentHolder.scrollTop=0,cm.addClass(a.nodes.container,"is-open",!0),a.transitionInterval=setTimeout(a.transitionOpenHandler,a.params.duration)),a},c.close=function(){var a=this;return a.isProccesing&&a.cancel(),a.isOpen&&(a.triggerEvent("onCloseStart"),cm.removeClass(a.nodes.container,"is-open",!0),a.transitionInterval=setTimeout(a.transitionCloseHandler,a.params.duration)),a},c.hide=function(){var a=this;return a.isHide||(a.isHide=!0,cm.replaceClass(a.nodes.container,"is-show","is-hide")),a},c.show=function(){var a=this;return a.isHide&&(a.isHide=!1,cm.replaceClass(a.nodes.container,"is-hide","is-show")),a},c.save=function(){var a,b=this;return b.isProccesing&&b.cancel(),b.isPostRequest=!0,b.triggerEvent("onSaveStart"),b.hasPostRequest?(a=cm.clone(b.params.post),a.formData?a.params=new FormData(b.nodes.contentHolder):a.params=cm.merge(a.params,cm.getFDO(b.nodes.contentHolder)),b.showButton(["cancel","saving"]),b.components.request.setAction(a,"update").send()):(b.showButton(["close","save"]),b.triggerEvent("onSave"),b.triggerEvent("onSaveEnd")),b},c.load=function(){var a=this;return a.isProccesing&&a.cancel(),a.isGetRequest=!0,a.triggerEvent("onLoadStart"),a.hasGetRequest?(a.showButton("cancel"),a.components.request.setAction(a.params.get,"update").send()):(a.showButton(["close","save"]),a.triggerEvent("onLoad"),a.triggerEvent("onLoadEnd")),a},c.cancel=function(){var a=this;return a.triggerEvent("onCancelStart"),a.components.request.abort(),a.isLoaded?a.showButton(["close","save"]):a.showButton(["close","reload"]),a.triggerEvent("onCancel"),a},c.setTitle=function(a){var b=this;return cm.customEvent.trigger(b.nodes.label,"destruct",{type:"child",self:!1}),cm.clearNode(b.nodes.label),a=cm.strToHTML(a),cm.isEmpty(a)||(cm.appendNodes(a,b.nodes.label),b.constructCollector(b.nodes.label)),b},c.setContent=function(a){var b=this;return cm.customEvent.trigger(b.nodes.contentHolder,"destruct",{type:"child",self:!1}),cm.clearNode(b.nodes.contentHolder),a=cm.strToHTML(a),cm.isEmpty(a)||(cm.appendNodes(a,b.nodes.contentHolder),b.constructCollector(b.nodes.contentHolder)),b},c.setPreview=function(a){var b=this;return cm.customEvent.trigger(b.nodes.previewHolder,"destruct",{type:"child",self:!1}),cm.clearNode(b.nodes.previewHolder),a=cm.strToHTML(a),cm.isEmpty(a)||(cm.addClass(b.nodes.previewHolder,"is-show"),cm.appendNodes(a,b.nodes.previewHolder),b.constructCollector(b.nodes.previewHolder)),b},c.renderView=function(){var a=this;return a.nodes.container=cm.node("div",{"class":"app__panel"},a.nodes.dialogHolder=cm.node("div",{"class":"app__panel__dialog-holder"},a.nodes.dialog=cm.node("div",{"class":"app__panel__dialog"},a.nodes.inner=cm.node("div",{"class":"inner"},a.nodes.title=cm.node("div",{"class":"title"},a.nodes.label=cm.node("div",{"class":"label"})),a.nodes.content=cm.node("div",{"class":"content"},a.nodes.contentHolder=cm.node("div",{"class":"inner"}))))),a.nodes.previewHolder=cm.node("div",{"class":"app__panel__preview-holder"},a.nodes.preview=cm.node("div",{"class":"app__panel__preview"},cm.node("div",{"class":"inner"},cm.node("div",{"class":"title"}),cm.node("div",{"class":"content"}))))),a.params.showCloseButton&&(a.nodes.close=cm.node("div",{"class":"icon cm-i cm-i__circle-close",title:a.lang("close")}),cm.addEvent(a.nodes.close,"click",a.closeHandler),cm.insertLast(a.nodes.close,a.nodes.title)),a.params.showBackButton&&(a.nodes.back=cm.node("div",{"class":"icon cm-i cm-i__circle-arrow-left",title:a.lang("back")}),cm.addEvent(a.nodes.back,"click",a.closeHandler),cm.insertFirst(a.nodes.back,a.nodes.title)),a.renderButtonsView(),a.params.showButtons&&cm.appendChild(a.nodes.buttons,a.nodes.inner),a},c.renderViewModel=function(){var a=this;switch(d.prototype.renderViewModel.apply(a,arguments),a.params.overlayPosition){case"content":a.params["Com.Overlay"].container=a.nodes.content,a.params["Com.Request"].overlayContainer=a.nodes.content;break;case"dialog":default:a.params["Com.Overlay"].container=a.nodes.dialog,a.params["Com.Request"].overlayContainer=a.nodes.dialog}return(a.hasGetRequest||a.hasPostRequest)&&(a.params["Com.Request"].container=a.nodes.contentHolder,cm.getConstructor("Com.Request",function(b,c){a.components.request=new b(a.params[c]),a.components.request.addEvent("onStart",function(){a.isProccesing=!0}).addEvent("onEnd",function(){a.isProccesing=!1,a.params.showButtons&&a.showButtons(),a.isGetRequest?a.triggerEvent("onLoadEnd"):a.isPostRequest&&a.triggerEvent("onSaveEnd"),a.isGetRequest=!1,a.isPostRequest=!1}).addEvent("onSuccess",function(b,c){a.isGetRequest?a.loadResponse(c):a.isPostRequest&&a.saveResponse(c)}).addEvent("onError",function(){a.isGetRequest?a.loadError():a.isPostRequest&&a.saveError()}).addEvent("onContentRender",function(){a.constructCollector(a.nodes.contentHolder)}).addEvent("onContentRenderEnd",function(){cm.customEvent.trigger(a.nodes.contentHolder,"redraw",{type:"child",self:!1})})})),!cm.isEmpty(a.params.title)&&a.setTitle(a.params.title),!cm.isEmpty(a.params.content)&&a.setContent(a.params.content),a},c.setAttributes=function(){var a=this;return d.prototype.setAttributes.apply(a,arguments),cm.addClass(a.nodes.container,["app__panel",a.params.type].join("--")),a},c.showButton=function(a){var b=this;cm.forEach(b.nodes.button,function(a){cm.addClass(a,"display-none")}),cm.isArray(a)?cm.forEach(a,function(a){b.nodes.button[a]&&cm.removeClass(b.nodes.button[a],"display-none")}):b.nodes.button[a]&&cm.removeClass(b.nodes.button[a],"display-none")},c.showButtons=function(a){var b=this;return cm.appendChild(b.nodes.buttons,b.nodes.inner),a&&cm.addClass(b.nodes.buttons,"is-immediately",!0),cm.addClass(b.nodes.buttons,"is-show",!0),b},c.renderButtonsView=function(){var a=this;return a.nodes.button={},a.nodes.buttons=cm.node("div",{"class":"buttons"},cm.node("div",{"class":"inner"},cm.node("div",{"class":"pt__buttons pull-justify"},cm.node("div",{"class":"inner"},a.nodes.button.close=cm.node("div",{"class":"button button-danger"},a.lang("close")),a.nodes.button.cancel=cm.node("div",{"class":"button button-danger"},a.lang("cancel")),a.nodes.button.save=cm.node("div",{"class":"button button-primary"},a.lang("save")),a.nodes.button.reload=cm.node("div",{"class":"button button-primary"},a.lang("reload")),a.nodes.button.saving=cm.node("div",{"class":"button button-primary has-icon has-icon-small"},cm.node("div",{"class":"icon small loader"}),cm.node("div",{"class":"label"},a.lang("saving"))))))),a.nodes.button.cancel.setAttribute("title",a.lang("cancelDescription")),a.nodes.button.saving.setAttribute("title",a.lang("cancelDescription")),cm.addEvent(a.nodes.button.save,"click",a.saveHandler),cm.addEvent(a.nodes.button.close,"click",a.closeHandler),cm.addEvent(a.nodes.button.cancel,"click",a.cancelHandler),cm.addEvent(a.nodes.button.saving,"click",a.cancelHandler),cm.addEvent(a.nodes.button.reload,"click",a.loadHandler),a},c.windowKeydown=function(a){var b=this;return cm.isKeyCode(a.keyCode,"escape")&&b.close(),b},c.transitionOpen=function(){var a=this;return a.isOpen=!0,a.triggerEvent("onOpen"),a.triggerEvent("onOpenEnd"),a},c.transitionClose=function(){var a=this;return a.isOpen=!1,a.destructOnClose&&a.destruct(),a.params.removeOnClose&&cm.remove(a.nodes.container),a.triggerEvent("onClose"),a.triggerEvent("onCloseEnd"),a},c.loadResponse=function(a){var b=this;return b.isLoaded=!0,b.setTitle(cm.objectSelector(b.params.responseTitleKey,a.response)),b.setPreview(cm.objectSelector(b.params.responsePreviewKey,a.response)),b.showButton(["close","save"]),b.triggerEvent("onLoad"),b},c.loadError=function(){var a=this;return a.isLoaded?a.showButton(["close","save"]):a.showButton(["close","reload"]),a.triggerEvent("onLoadError"),a.triggerEvent("onError","load"),a},c.saveResponse=function(a){var b=this;return(!a.status||a.status&&b.params.renderContentOnSuccess)&&(b.setTitle(cm.objectSelector(b.params.responseTitleKey,a.response)),b.setPreview(cm.objectSelector(b.params.responsePreviewKey,a.response)),b.showButton(["close","save"])),a.status?(b.params.closeOnSuccess&&b.close(),b.triggerEvent("onSaveSuccess",a)):b.triggerEvent("onSaveFailure",a),b.triggerEvent("onSave",a),b},c.saveError=function(){var a=this;return a.showButton(["close","save"]),a.triggerEvent("onSaveError"),a.triggerEvent("onError","save"),a}}),cm.define("App.PanelContainer",{extend:"Com.AbstractContainer",events:["onOpenStart","onOpenEnd","onCloseStart","onCloseEnd"],params:{constructor:"App.Panel",container:"document.body",destructOnClose:!0,restoreHolderContent:!0,params:{destructOnClose:!1,autoOpen:!1}}},function(a){var b=this;Com.AbstractContainer.apply(b,arguments)}),cm.getConstructor("App.PanelContainer",function(a,b,c){var d=c._inherit;c.construct=function(){var a=this;return a.destructProcessHander=a.destructProcess.bind(a),a.showHandler=a.show.bind(a),a.hideHandler=a.hide.bind(a),a.addEvent("onDestructProcess",a.destructProcessHander),d.prototype.construct.apply(a,arguments),a},c.destructProcess=function(){var a=this;return a.components.finder&&a.components.finder.remove(),a},c.show=function(a){var b=this;return a&&cm.preventDefault(a),b.components.controller&&b.components.controller.show(),b},c.hide=function(a){var b=this;return a&&cm.preventDefault(a),b.components.controller&&b.components.controller.hide(),b},c.renderControllerEvents=function(){var a=this;return a.components.controller.addEvent("onOpenStart",function(){a.triggerEvent("onOpenStart",a.components.controller),a.setHolderContent(),a.afterOpenController()}),a.components.controller.addEvent("onOpenEnd",function(){a.processNestedPanels(),a.triggerEvent("onOpenEnd",a.components.controller)}),a.components.controller.addEvent("onCloseStart",function(){a.triggerEvent("onCloseStart",a.components.controller)}),a.components.controller.addEvent("onCloseEnd",function(){a.restoreHolderContent(),a.afterCloseController(),a.triggerEvent("onCloseEnd",a.components.controller)}),a},c.processNestedPanels=function(){var a=this,b=a.components.controller.getStackNode(),c={childs:!0,multiple:!0};return a.components.finder=new cm.Finder("App.PanelContainer",null,b,function(b){b.setParams({params:{type:"story",showButtons:!1,showBackButton:!0,showCloseButton:!1}}),b.addEvent("onOpenStart",a.hideHandler),b.addEvent("onCloseStart",a.showHandler)},c),a},c.setHolderContent=function(){var a=this;return!cm.isEmpty(a.nodes.content)&&cm.isParent(a.nodes.holder,a.nodes.content)&&a.components.controller.setContent(a.nodes.content),a},c.restoreHolderContent=function(){var a=this;return cm.appendChild(a.nodes.content,a.nodes.holder),a}}),cm.define("App.SearchBox",{modules:["Params","DataConfig","DataNodes"],events:["onRender"],params:{node:cm.Node("div"),"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,preventClickEvent:!0,adaptiveX:!0,adaptiveY:!1,left:"-selfWidth+targetWidth",top:"targetHeight + 8",className:"app-mod__search__tooltip"}}},function(a){var b=this,c={};b.nodes={button:cm.Node("div"),target:cm.Node("div")};var d=function(){b.setParams(a),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),e()},e=function(){c.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{target:b.nodes.button,content:b.nodes.target,events:{onShow:f}}))},f=function(){var a=cm.getByAttr("type","text",b.nodes.target)[0];a&&a.focus()};d()}),cm.define("App.Sidebar",{modules:["Params","Events","DataConfig","DataNodes","Storage","Stack"],events:["onRenderStart","onRender","onCollapseStart","onCollapse","onCollapseEnd","onExpandStart","onExpand","onExpandEnd","onTabShow","onTabHide","onResize"],params:{node:cm.Node("div"),name:"app-sidebar",duration:"cm._config.animDurationLong",active:"template-manager",target:"document.html",remember:!0,ajax:{type:"json",method:"get",url:"",params:""},"Com.TabsetHelper":{node:cm.Node("div"),name:"",responseHTML:!0}}},function(a){var b=this;b.nodes={container:cm.Node("div"),inner:cm.Node("div"),collapseButtons:[],labels:[],tabs:[]},b.components={},b.isExpanded=null,b.openInterval=null;var c=function(){d(),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),e(),b.triggerEvent("onRenderStart"),f(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){b.params.duration=cm.getTransitionDurationFromLESS("AppSidebar-Duration",b.params.duration)},e=function(){b.params["Com.TabsetHelper"].node=b.nodes.inner,b.params["Com.TabsetHelper"].name=[b.params.name,"tabset"].join("-"),b.params["Com.TabsetHelper"].ajax=b.params.ajax},f=function(){var a,c;g(),cm.forEach(b.nodes.collapseButtons,function(a){cm.addEvent(a.container,"click",b.toggle)}),a=cm.isClass(b.nodes.container,"is-expanded"),b.params.remember&&(c=b.storageRead("isExpanded"),a=null!==c?c:a),a?b.expand(!0,!0):b.collapse(!0,!0),cm.addEvent(window,"resize",h),cm.customEvent.add(b.nodes.container,"scrollSizeChange",h)},g=function(){cm.getConstructor("Com.TabsetHelper",function(a){b.components.tabset=new a(b.params["Com.TabsetHelper"]).addEvent("onLabelTarget",function(a,c){b.isExpanded&&a.get()!=c.item.id||b.toggle()}).addEvent("onTabHide",function(a,c){b.triggerEvent("onTabHide",c)}).addEvent("onTabShow",function(a,c){b.triggerEvent("onTabShow",c)}).processTabs(b.nodes.tabs,b.nodes.labels).set(b.params.active)}),cm.forEach(b.nodes.tabs,function(a){cm.addIsolateScrolling(a.descr)})},h=function(){animFrame(function(){cm._pageSize.winWidth<=cm._config.adaptiveFrom&&b.isExpanded&&b.collapse(!0)})},i=function(){cm.replaceClass(b.params.target,"is-sidebar--collapsed is-sidebar--expanding","is-sidebar--expanded",!0),b.triggerEvent("onExpandEnd")},j=function(){cm.replaceClass(b.params.target,"is-sidebar--expanded is-sidebar--collapsing","is-sidebar--collapsed",!0),b.triggerEvent("onCollapseEnd")};b.collapse=function(a,c){return(c||"boolean"!=typeof b.isExpanded||b.isExpanded)&&(b.isExpanded=!1,b.params.remember&&b.storageWrite("isExpanded",!1),b.triggerEvent("onCollapseStart"),a&&(cm.addClass(b.nodes.container,"is-immediately"),cm.addClass(b.params.target,"is-immediately")),cm.replaceClass(b.nodes.container,"is-expanded","is-collapsed",!0),cm.addClass(b.params.target,"is-sidebar--collapsing",!0),b.triggerEvent("onCollapse"),cm.forEach(b.nodes.collapseButtons,function(a){cm.removeClass(a.container,"active")}),b.openInterval&&clearTimeout(b.openInterval),a?(j(),b.openInterval=setTimeout(function(){cm.removeClass(b.nodes.container,"is-immediately"),cm.removeClass(b.params.target,"is-immediately")},5)):b.openInterval=setTimeout(function(){j()},b.params.duration+5)),b},b.expand=function(a,c){return(c||"boolean"!=typeof b.isExpanded||!b.isExpanded)&&(b.isExpanded=!0,b.params.remember&&b.storageWrite("isExpanded",!0),b.triggerEvent("onExpandStart"),a&&(cm.addClass(b.nodes.container,"is-immediately"),cm.addClass(b.params.target,"is-immediately")),cm.replaceClass(b.nodes.container,"is-collapsed","is-expanded",!0),cm.addClass(b.params.target,"is-sidebar--expanding",!0),b.triggerEvent("onExpand"),cm.forEach(b.nodes.collapseButtons,function(a){cm.addClass(a.container,"active")}),b.openInterval&&clearTimeout(b.openInterval),a?(i(),b.openInterval=setTimeout(function(){cm.removeClass(b.nodes.container,"is-immediately"),cm.removeClass(b.params.target,"is-immediately")},5)):b.openInterval=setTimeout(function(){i()},b.params.duration+5)),b},b.toggle=function(){return b.isExpanded?b.collapse():b.expand(),b},b.setTab=function(a){return b.components.tabset&&b.components.tabset.set(a),b},b.unsetTab=function(){return b.components.tabset&&b.components.tabset.unset(),b},b.getTab=function(){return b.components.tabset?b.components.tabset.get():null},b.getDimensions=function(a){var c=cm.getRect(b.nodes.container);return c[a]||c},b.getNodes=function(a){return b.nodes[a]||b.nodes},c()}),cm.define("App.Stylizer",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRender","onSelect","onChange"],params:{node:cm.node("div"),name:"",customEvents:!0,active:{},"default":{},styles:{"font-family":["Arial, Helvetica, sans-serif","Arial Black, Gadget, sans-serif","Courier New, Courier, monospace","Georgia, serif","Impact, Charcoal, sans-serif","Lucida Console, Monaco, monospace","Lucida Sans Unicode, Lucida Grande, sans-serif","Palatino Linotype, Book Antiqua, Palatino, serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],"line-height":[8,10,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120],"font-size":[8,9,10,11,12,13,14,18,20,22,24,28,32,36,42,48,54,60,72,96],"font-weight":[100,300,400,600,700,900],"font-style":["normal","italic"],"text-decoration":["none","underline"]},styleBinds:{"font-weight":{normal:400,bold:700}},controls:{"font-family":!0,"line-height":!0,"font-size":!0,"font-weight":!0,"font-style":!0,"text-decoration":!0,color:!0},showResetButtons:!0,overrideControls:!0,"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,top:"targetHeight + 6",left:"-6",className:"app__stylizer-tooltip"},"Com.Select":{renderInBody:!1},"Com.ColorPicker":{renderInBody:!1},langs:{100:"Thin",200:"Extra Light",300:"Light",400:"Regular",500:"Medium",600:"Semi Bold",700:"Bold",800:"Extra Bold",900:"Black"}}},function(a){var b=this;b.nodes={container:cm.node("div"),input:cm.node("input",{type:"hidden"}),preview:cm.node("div"),tooltip:{}},b.components={},b.value=null,b.previousValue=null,b.safeValue=null,b.isDestructed=null;var c=function(){b.destructHandler=b.destruct.bind(b),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),h(),i(),b.addToStack(b.nodes.container),k(cm.merge(b.params["default"],b.params.active),!1),b.triggerEvent("onRender",b.value)},d=function(){cm.isNode(b.nodes.input)&&(b.params.name=b.nodes.input.getAttribute("name")||b.params.name),b.params["default"]=cm.merge(b.params["default"],b.getNodeDataConfig(b.nodes.input,"data-default")),b.params.active=cm.merge(cm.merge(b.params["default"],b.params.active),b.getNodeDataConfig(b.nodes.input,"value")),e(b.params.active),e(b.params["default"]),f(b.params.active),f(b.params["default"]),g(),b.params.overrideControls&&cm.forEach(b.params.controls,function(a,c){b.params.controls[c]=!(!b.params["default"][c]&&!b.params.active[c])})},e=function(a){return a["line-height"]&&"normal"!=a["line-height"]&&(a["line-height"]=parseInt(a["line-height"])),a["font-size"]&&(a["font-size"]=parseInt(a["font-size"])),a["font-weight"]&&(b.params.styleBinds["font-weight"][a["font-weight"]]&&(a["font-weight"]=b.params.styleBinds["font-weight"][a["font-weight"]]),a["font-weight"]=parseInt(a["font-weight"]),a["font-weight"]=cm.inArray(b.params.styles["font-weight"],a["font-weight"])?a["font-weight"]:400),a["font-style"]&&(a["font-style"]=cm.inArray(b.params.styles["font-style"],a["font-style"])?a["font-style"]:"normal"),a["text-decoration"]&&(a["text-decoration"]=cm.inArray(b.params.styles["text-decoration"],a["text-decoration"])?a["text-decoration"]:"none"),a},f=function(a){a["font-size"]&&!cm.inArray(b.params.styles["font-size"],a["font-size"])&&b.params.styles["font-size"].push(a["font-size"]),a["line-height"]&&!cm.inArray(b.params.styles["line-height"],a["line-height"])&&b.params.styles["line-height"].push(a["line-height"]),a["font-family"]&&!cm.inArray(b.params.styles["font-family"],a["font-family"])&&b.params.styles["font-family"].push(a["font-family"])},g=function(){b.params.styles["font-size"].sort(function(a,b){return a-b}),b.params.styles["line-height"].sort(function(a,b){return"normal"==a?-1:"normal"==b?1:a-b}),b.params.styles["font-family"].sort(function(a,b){var c=a.toLowerCase().replace(/["']/g,""),d=b.toLowerCase().replace(/["']/g,"");return d>c?-1:c>d?1:0})},h=function(){b.nodes.tooltip.container=cm.node("div",{"class":"pt__toolbar"},b.nodes.tooltip.inner=cm.node("div",{"class":"inner"},b.nodes.tooltip.group1=cm.node("ul",{"class":"group"}),b.nodes.tooltip.group2=cm.node("ul",{"class":"group"}),b.nodes.tooltip.group3=cm.node("ul",{"class":"group"}),b.nodes.tooltip.group4=cm.node("ul",{"class":"group"}))),b.params.controls["font-family"]&&(b.nodes.tooltip.group2.appendChild(cm.node("li",{"class":"is-select medium"},b.nodes.tooltip["font-family"]=cm.node("select",{title:b.lang("Font")}))),cm.forEach(b.params.styles["font-family"],function(a){b.nodes.tooltip["font-family"].appendChild(cm.node("option",{value:a,style:{"font-family":a}},a.replace(/["']/g,"").split(",")[0]))}),b.components["font-family"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["font-family"],events:{onChange:function(a,c){k(cm.merge(b.value,{"font-family":c}),!0)}}}))),b.params.controls["font-weight"]&&(b.nodes.tooltip.group1.appendChild(b.nodes.tooltip["font-weight-button"]=cm.node("li",{"class":"button button-secondary is-icon"},cm.node("span",{"class":"icon toolbar bold"}))),cm.addEvent(b.nodes.tooltip["font-weight-button"],"click",function(){k(cm.merge(b.value,{"font-weight":b.value["font-weight"]>400?400:700}),!0)}),b.nodes.tooltip.group2.appendChild(cm.node("li",{"class":"is-select medium"},b.nodes.tooltip["font-weight"]=cm.node("select",{title:b.lang("Weight")}))),cm.forEach(b.params.styles["font-weight"],function(a){b.nodes.tooltip["font-weight"].appendChild(cm.node("option",{value:a},b.lang(a)))}),b.components["font-weight"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["font-weight"],events:{onChange:function(a,c){k(cm.merge(b.value,{"font-weight":c}),!0)}}}))),b.params.controls["font-style"]&&(b.nodes.tooltip.group1.appendChild(b.nodes.tooltip["font-style-button"]=cm.node("li",{"class":"button button-secondary is-icon"},cm.node("span",{"class":"icon toolbar italic"}))),cm.addEvent(b.nodes.tooltip["font-style-button"],"click",function(){k(cm.merge(b.value,{"font-style":"italic"==b.value["font-style"]?"normal":"italic"}),!0)})),b.params.controls["text-decoration"]&&(b.nodes.tooltip.group1.appendChild(b.nodes.tooltip["text-decoration-button"]=cm.node("li",{"class":"button button-secondary is-icon"},cm.node("span",{"class":"icon toolbar underline"}))),cm.addEvent(b.nodes.tooltip["text-decoration-button"],"click",function(){k(cm.merge(b.value,{"text-decoration":"underline"==b.value["text-decoration"]?"none":"underline"}),!0)})),b.params.controls["font-size"]&&(b.nodes.tooltip.group2.appendChild(cm.node("li",{"class":"is-select x-small"},b.nodes.tooltip["font-size"]=cm.node("select",{title:b.lang("Size")}))),cm.forEach(b.params.styles["font-size"],function(a){b.nodes.tooltip["font-size"].appendChild(cm.node("option",{value:a},a))}),b.components["font-size"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["font-size"],events:{onChange:function(a,c){k(cm.merge(b.value,{"font-size":c}),!0)}}}))),b.params.controls["line-height"]&&(b.nodes.tooltip.group2.appendChild(cm.node("li",{"class":"is-select x-small"},b.nodes.tooltip["line-height"]=cm.node("select",{title:b.lang("Leading")}))),cm.forEach(b.params.styles["line-height"],function(a){b.nodes.tooltip["line-height"].appendChild(cm.node("option",{value:a},"normal"==a?b.lang("auto"):a))}),b.components["line-height"]=new Com.Select(cm.merge(b.params["Com.Select"],{select:b.nodes.tooltip["line-height"],events:{onChange:function(a,c){k(cm.merge(b.value,{"line-height":c}),!0)}}}))),b.params.controls.color&&(b.nodes.tooltip.group3.appendChild(cm.node("li",{"class":"is-select medium"},b.nodes.tooltip.color=cm.node("input",{type:"text",title:b.lang("Color")}))),b.components.color=new Com.ColorPicker(cm.merge(b.params["Com.ColorPicker"],{input:b.nodes.tooltip.color,defaultValue:b.params["default"].color,events:{onChange:function(a,c){k(cm.merge(b.value,{color:c}),!0)}}}))),b.params.showResetButtons?(b.nodes.tooltip.group4.appendChild(cm.node("li",b.nodes.tooltip["reset-default-button"]=cm.node("div",{"class":"button button-primary"},b.lang("Reset to default")))),b.nodes.tooltip.group4.appendChild(cm.node("li",b.nodes.tooltip["reset-current-button"]=cm.node("div",{"class":"button button-primary"},b.lang("Reset to current")))),cm.addEvent(b.nodes.tooltip["reset-default-button"],"click",function(){k(cm.clone(b.params["default"]),!0)}),cm.addEvent(b.nodes.tooltip["reset-current-button"],"click",function(){k(cm.clone(b.params.active),!0)})):cm.remove(b.nodes.tooltip.group4),b.components.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{content:b.nodes.tooltip.container,target:b.nodes.container,events:{onShowStart:function(){cm.addClass(b.nodes.container,"active")},onHideStart:function(){cm.removeClass(b.nodes.container,"active")}}}))},i=function(){b.params.customEvents&&cm.customEvent.add(b.nodes.container,"destruct",b.destructHandler)},j=function(){b.params.customEvents&&cm.customEvent.remove(b.nodes.container,"destruct",b.destructHandler)},k=function(a,c){b.previousValue=cm.clone(b.value),b.value=cm.clone(a),b.value._type="font",b.safeValue=cm.clone(b.value),cm.forEach(a,function(a,c){switch(b.components[c]&&b.components[c].set(a,!1),c){case"font-weight":a>400?cm.addClass(b.nodes.tooltip["font-weight-button"],"active"):cm.removeClass(b.nodes.tooltip["font-weight-button"],"active");break;case"text-decoration":"underline"==a?cm.addClass(b.nodes.tooltip["text-decoration-button"],"active"):cm.removeClass(b.nodes.tooltip["text-decoration-button"],"active");break;case"font-style":"italic"==a?cm.addClass(b.nodes.tooltip["font-style-button"],"active"):cm.removeClass(b.nodes.tooltip["font-style-button"],"active");break;case"font-size":b.safeValue[c]=cm.isNumber(a)||/^\d+$/.test(a)?a+"px":a;break;case"line-height":b.safeValue[c]=cm.isNumber(a)||/^\d+$/.test(a)?a+"px":a}b.nodes.preview.style[cm.styleStrToKey(c)]=b.safeValue[c]}),b.nodes.input.value=JSON.stringify(b.safeValue),c&&(b.triggerEvent("onSelect",b.safeValue),l())},l=function(){JSON.stringify(b.value)!=JSON.stringify(b.previousValue)&&b.triggerEvent("onChange",b.safeValue)};b.destruct=function(){var a=this;return a.isDestructed||(a.isDestructed=!0,cm.customEvent.trigger(a.nodes.tooltip.container,"destruct",{type:"child",self:!1}),j(),a.removeFromStack()),a},b.set=function(a,c){return c="undefined"!=typeof c?c:!0,a=cm.isObject(a)?e(a):b.params["default"],k(a,c),b},b.get=function(){return b.safeValue},c()}),cm.define("App.Template",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRenderStart","onRender","onRedraw","onResize","enableEditing","disableEditing"],params:{node:cm.Node("div"),name:"app-template",scrollNode:"document.body",scrollDuration:1e3,topMenuName:"app-topmenu",sidebarName:"app-sidebar",editorName:"app-editor",template:{type:"box",width:1e3,align:"center",indent:24},header:{fixed:!1,overlapping:!1},content:{editableIndent:0},footer:{sticky:!0}}},function(a){var b=this;b.nodes={container:cm.Node("div"),inner:cm.Node("div"),headerContainer:cm.Node("div"),header:cm.Node("div"),content:cm.Node("div"),footer:cm.Node("div"),buttonUp:cm.Node("div"),buttonsUp:[]},b.isEditing=null,b.components={},b.anim={},b.offsets={};var c=function(){d(),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.addToStack(b.params.node),b.triggerEvent("onRenderStart"),e(),f(),h(!0),b.triggerEvent("onRender")},d=function(){b.params.content.editableIndent=cm.getLESSVariable("AppTpl-Content-EditableIndent",b.params.content.editableIndent,!0);
},e=function(){b.nodes.headerFake=cm.node("div",{"class":"tpl__header__fake"}),cm.insertAfter(b.nodes.headerFake,b.nodes.headerContainer),cm.find("App.TopMenu",b.params.topMenuName,null,function(a){b.components.topMenu=a}),cm.find("App.Sidebar",b.params.sidebarName,null,function(a){b.components.sidebar=a}),new cm.Finder("App.Editor",b.params.editorName,null,function(a){b.components.editor=a},{event:"onProcessStart"}),b.anim.scroll=new cm.Animation(b.params.scrollNode),cm.addEvent(b.nodes.buttonUp,"click",b.scrollToTop),cm.addEvent(window,"resize",function(){animFrame(function(){b.triggerEvent("onResize"),h(!0)})})},f=function(){b.params.header.overlapping&&cm.addClass(b.nodes.headerContainer,"is-overlapping"),b.params.header.fixed&&cm.addClass(b.nodes.headerContainer,"is-fixed"),b.params.header.fixed&&!b.params.header.overlapping&&cm.addClass(b.nodes.headerFake,"is-show")},g=function(){cm.removeClass(b.nodes.headerContainer,"is-overlapping is-fixed"),cm.removeClass(b.nodes.headerFake,"is-show")},h=function(a){b.offsets.top=b.components.topMenu?b.components.topMenu.getDimensions("height"):0,b.offsets.left=b.components.sidebar?b.components.sidebar.getDimensions("width"):0,b.offsets.header=b.nodes.header.offsetHeight,b.offsets.footer=b.nodes.footer.offsetHeight,b.offsets.height=cm.getPageSize("winHeight")-b.offsets.top,b.nodes.inner.style.minHeight=b.offsets.height+"px",b.isEditing?b.params.footer.sticky&&(b.nodes.content.style.minHeight=Math.max(b.offsets.height-b.offsets.header-b.offsets.footer-2*b.params.content.editableIndent,0)+"px"):(b.params.header.fixed&&!b.params.header.overlapping&&(b.nodes.headerFake.style.height=b.offsets.header+"px"),b.params.footer.sticky&&(b.params.header.overlapping?b.nodes.content.style.minHeight=Math.max(b.offsets.height-b.offsets.footer,0)+"px":b.nodes.content.style.minHeight=Math.max(b.offsets.height-b.offsets.header-b.offsets.footer,0)+"px")),a&&b.triggerEvent("onRedraw")};b.redraw=function(a){return a="undefined"==typeof a?!0:a,h(a),b},b.enableEditing=function(){return cm.isBoolean(b.isEditing)&&b.isEditing||(b.isEditing=!0,cm.addClass(b.nodes.container,"is-editing"),g(),b.redraw(),b.triggerEvent("enableEditing")),b},b.disableEditing=function(){return(!cm.isBoolean(b.isEditing)||b.isEditing)&&(b.isEditing=!1,cm.removeClass(b.nodes.container,"is-editing"),f(),b.redraw(),b.triggerEvent("disableEditing")),b},b.scrollTo=function(a,c){return b.anim.scroll.go({style:{docScrollTop:a},duration:c,anim:"smooth"}),b},b.scrollToTop=function(){return b.scrollTo(0,b.params.scrollDuration),b},b.scrollStop=function(){return b.anim.scroll.stop(),b},b.getNodes=function(a){return b.nodes[a]||b.nodes},c()}),cm.define("App.TopMenu",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender","onCollapse","onExpand"],params:{node:cm.Node("div"),name:"app-topmenu",target:"document.html"}},function(a){var b,c=this;c.nodes={container:cm.Node("div"),inner:cm.Node("div"),button:cm.Node("div"),target:cm.Node("div"),items:{}},c.isExpanded=!1;var d=function(){c.setParams(a),c.convertEvents(c.params.events),c.getDataNodes(c.params.node),c.getDataConfig(c.params.node),c.addToStack(c.params.node),e(),c.triggerEvent("onRender")},e=function(){f(),cm.addEvent(c.nodes.button,"click",c.toggle),c.isExpanded=cm.isClass(c.nodes.container,"is-expanded"),cm.addEvent(window,"resize",f)},f=function(){cm.addClass(c.nodes.container,"cm__transition-disable"),b&&clearTimeout(b),b=setTimeout(function(){cm.removeClass(c.nodes.container,"cm__transition-disable")},5)};c.expand=function(){return c.isExpanded||(c.isExpanded=!0,cm.addClass(c.nodes.button,"active"),cm.replaceClass(c.nodes.container,"is-collapsed","is-expanded"),cm.replaceClass(c.params.target,"is-topmenu--collapsed","is-topmenu--expanded",!0),c.triggerEvent("onExpand")),c},c.collapse=function(){return c.isExpanded&&(c.isExpanded=!1,cm.removeClass(c.nodes.button,"active"),cm.replaceClass(c.nodes.container,"is-expanded","is-collapsed"),cm.replaceClass(c.params.target,"is-topmenu--expanded","is-topmenu--collapsed",!0),c.triggerEvent("onCollapse")),c},c.toggle=function(){return c.isExpanded?c.collapse():c.expand(),c},c.setActiveItem=function(a){var b;return a&&(b=c.nodes.items[a])&&cm.addClass(b.container,"active"),c},c.unsetActiveItem=function(a){var b;return a&&(b=c.nodes.items[a])&&cm.removeClass(b.container,"active"),c},c.getItem=function(a){var b;return a&&(b=c.nodes.items[a])?b:null},c.getDimensions=function(a){var b=cm.getRect(c.nodes.container);return b[a]||b},c.getNodes=function(a){return c.nodes[a]||c.nodes},d()}),cm.define("App.Zone",{modules:["Params","Events","DataConfig","Stack"],events:["onRenderStart","onRender","onRemove"],params:{node:cm.Node("div"),type:"template-manager",instanceId:!1,zone:0,layerId:0,link:!1,locked:!1,editorName:"app-editor"}},function(a){var b=this;b.isEditing=null,b.isRemoved=!1,b.isActive=!1,b.styleObject=null,b.offsets=null,b.dimensions=null,b.components={},b.node=null,b.block=null,b.dummyBlocks=[],b.blocks=[];var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.node),d(),b.triggerEvent("onRenderStart"),e(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){b.params.link?(b.params.linkName=[b.params.link.type,b.params.link.positionId,b.params.zone].join("_"),b.params.blockName=[b.params.link.type,b.params.link.positionId].join("_")):b.params.blockName=[b.params.type,b.params.positionId].join("_"),cm.isNumber(b.params.instanceId)||cm.isString(b.params.instanceId)?b.params.name=[b.params.type,b.params.instanceId,b.params.positionId,b.params.zone].join("_"):b.params.name=[b.params.type,b.params.positionId,b.params.zone].join("_")},e=function(){b.node=b.params.node,b.getDimensions(),cm.addClass(b.node,"app__zone"),cm.addClass(b.node,["is",b.params.type].join("-")),b.params.locked?cm.addClass(b.node,"is-locked"):cm.addClass(b.node,"is-available"),new cm.Finder("App.Block",b.params.blockName,null,f),new cm.Finder("App.Editor",b.params.editorName,null,h,{event:"onProcessStart"})},f=function(a){a&&(b.block=a.addZone(b))},g=function(a){a&&(b.block=a.removeZone(b),b.block=null)},h=function(a){a&&(b.components.editor=a.addZone(b))},i=function(a){a&&(b.components.editor=a.removeZone(b))};b.enableEditing=function(){return cm.isBoolean(b.isEditing)&&b.isEditing||(b.isEditing=!0,cm.addClass(b.node,"is-editing",!0),b.params.locked||cm.addClass(b.node,"is-editable",!0)),b},b.disableEditing=function(){return(!cm.isBoolean(b.isEditing)||b.isEditing)&&(b.isEditing=!1,cm.removeClass(b.node,"is-editing",!0),b.params.locked||cm.removeClass(b.node,"is-editable",!0)),b},b.addBlock=function(a,c){return a.isDummy?"undefined"!=typeof c&&cm.isNumber(c)?b.dummyBlocks[c]=a:b.dummyBlocks.push(a):"undefined"!=typeof c&&cm.isNumber(c)?b.blocks.splice(c,0,a):b.blocks.push(a),b},b.removeBlock=function(a){return a.isDummy?cm.arrayRemove(b.dummyBlocks,a):cm.arrayRemove(b.blocks,a),b},b.getBlockIndex=function(a){return a.isDummy?b.dummyBlocks.indexOf(a):b.blocks.indexOf(a)},b.getBlock=function(a){return b.blocks[a]},b.highlight=function(){return b.params.locked||cm.addClass(b.node,"is-highlight"),b},b.unhighlight=function(){return b.params.locked||cm.removeClass(b.node,"is-highlight"),b},b.active=function(){return b.params.locked||(b.isActive=!0,cm.addClass(b.node,"is-active")),b},b.unactive=function(){return b.params.locked||(b.isActive=!1,cm.removeClass(b.node,"is-active")),b},b.remove=function(){if(!b.isRemoved){for(b.isRemoved=!0,g(b.block),i(b.components.editor);b.blocks.length;)b.blocks[0].remove();b.removeFromStack(),cm.remove(b.params.node),b.triggerEvent("onRemove")}return b},b.getDimensions=function(){return b.styleObject||(b.styleObject=cm.getStyleObject(b.node)),b.dimensions=cm.getNodeOffset(b.node,b.styleObject,null),b.dimensions},b.updateDimensions=function(){return b.dimensions=cm.getNodeOffset(b.node,b.styleObject,b.dimensions),b.dimensions},c()}),cm.define("App.elFinderFileManager",{extend:"Com.elFinderFileManager",params:{}},function(a){var b=this;Com.elFinderFileManager.apply(b,arguments)}),cm.define("App.elFinderFileManagerContainer",{extend:"Com.elFinderFileManagerContainer",params:{constructor:"App.elFinderFileManager"}},function(a){var b=this;Com.elFinderFileManagerContainer.apply(b,arguments)}),cm.define("Module.LogoCarousel",{extend:"App.AbstractModule",params:{duration:1e3,delay:2e3,columns:0,mobileColumns:1,stopOnHover:!0}},function(a){var b=this;b.items={},b.itemsLength=0,b.isInfinite=!1,b.isAnimate=!0,b.isProccess=!1,b.moveInterval=null,b.current=null,b.columns=0,App.AbstractModule.apply(b,arguments)}),cm.getConstructor("Module.LogoCarousel",function(a,b,c){var d=c._inherit;c.construct=function(){var a=this;return a.validateParamsProcessHandler=a.validateParamsProcess.bind(a),a.destructProcessHandler=a.destructProcess.bind(a),a.redrawProcessHandler=a.redrawProcess.bind(a),a.startHandler=a.start.bind(a),a.stopHandler=a.stop.bind(a),a.mouseOverEventHandler=a.mouseOverEvent.bind(a),a.mouseOutEventHandler=a.mouseOutEvent.bind(a),a.moveProcessHandler=a.moveProcess.bind(a),a.addEvent("onValidateParamsProcess",a.validateParamsProcessHandler),a.addEvent("onDestructProcess",a.destructProcessHandler),a.addEvent("onRedraw",a.redrawProcessHandler),d.prototype.construct.apply(a,arguments),a},c.validateParamsProcess=function(){var a=this;return a.isInfinite=!a.params.delay,a.delay=a.params.duration+a.params.delay,a.isAnimate=!(!a.params.duration&&!a.params.duration),a},c.destructProcess=function(){var a=this;return a.stop(),a.moveInterval&&clearTimeout(a.moveInterval),a},c.redrawProcess=function(){var a=this,b=["col",a.params.columns].join("-"),c=["col",a.params.mobileColumns].join("-");return"mobile"==cm._deviceType?(a.columns=a.params.mobileColumns,cm.replaceClass(a.nodes.grid,b,c)):(a.columns=a.params.columns,cm.replaceClass(a.nodes.grid,c,b)),a.restart(),a},c.render=function(){var a=this;return d.prototype.render.apply(a,arguments),a.redraw(),a},c.renderViewModel=function(){var a=this;return d.prototype.renderViewModel.apply(a,arguments),a.items=cm.clone(a.nodes.items),a.itemsLength=a.items.length,a.isInfinite&&cm.addClass(a.nodes.container,"is-infinite"),a.components.animation=new cm.Animation(a.nodes.itemsContainer),cm.addEvent(a.nodes.container,"mouseover",a.mouseOverEventHandler),cm.addEvent(a.nodes.container,"mouseout",a.mouseOutEventHandler),a},c.restart=function(){var a=this;return a.stop(),a.restore(),a.move(),a},c.start=function(){var a=this;return a.isProccess||(a.isProccess=!0),a},c.stop=function(){var a=this;return a.isProccess&&(a.isProccess=!1),a},c.move=function(){var a=this;return a.isProccess=!0,a.moveProcess(),a.moveRepeater(),a},c.moveRepeater=function(){var a=this;return a.moveInterval&&clearTimeout(a.moveInterval),a.moveInterval=setTimeout(function(){a.moveProcess(),a.moveRepeater()},a.delay),a},c.moveProcess=function(){var a=this;return a.isAnimate&&a.isProccess&&a.itemsLength>a.columns&&(a.restore(),a.current=a.items.shift(),a.items.push(a.current),a.components.animation.go({style:{left:-a.current.container.offsetWidth+"px"},duration:a.params.duration,anim:a.isInfinite?"linear":"smooth"})),a},c.restore=function(){var a=this;return a.current&&(cm.addClass(a.nodes.container,"is-immediately",!0),a.nodes.itemsContainer.style.left="0px",cm.insertLast(a.current.container,a.nodes.itemsContainer),cm.removeClass(a.nodes.container,"is-immediately",!0)),a},c.mouseOverEvent=function(a){var b=this;return b.params.stopOnHover&&b.stop(),b},c.mouseOutEvent=function(a){var b=this,c=cm.getRelatedTarget(a);return cm.isParent(b.nodes.container,c,!0)||b.params.stopOnHover&&b.start(),b}}),cm.define("Module.Menu",{extend:"App.AbstractModule",params:{node:cm.node("div"),embedStructure:"none",renderStructure:!1,name:"",view:"horizontal",submenu:"visible",duration:"cm._config.animDuration",delay:"cm._config.hideDelay"}},function(a){var b=this;b.nodes={select:{select:cm.node("select")}},b.alignValues=["left","center","right","justify"],b.submeniViewValues=["visible","dropdown","specific","collapsible"],App.AbstractModule.apply(b,arguments)}),cm.getConstructor("Module.Menu",function(a,b,c){var d=c._inherit;c.construct=function(){var a=this;return a.processSelectHandler=a.processSelect.bind(a),d.prototype.construct.apply(a,arguments),a},c.renderViewModel=function(){var a=this;return d.prototype.renderViewModel.apply(a,arguments),cm.addEvent(a.nodes.select.select,"change",a.processSelectHandler),a.processSubMenu(a.nodes.menu.items),a},c.processSubMenu=function(a){var b=this;return cm.forEach(a,function(a){a.sub&&(b.processSubMenuItem(a),b.processSubMenu(a.sub.items))}),b},c.processSubMenuItem=function(a){var b=this;return a.sub._animate=new cm.Animation(a.sub.container),a.sub._visible=cm.isClass(a.container,"active"),a.sub._visible||(cm.addEvent(a.container,"mouseover",function(c){"vertical"==b.params.view&&"collapsible"==b.params.submenu&&b.showSubMenuItemCollapsible(c,a)}),cm.addEvent(a.container,"mouseout",function(c){"vertical"==b.params.view&&"collapsible"==b.params.submenu&&b.hideSubMenuItemCollapsible(c,a)})),b},c.showSubMenuItemCollapsible=function(a,b){var c,d,e=this;return b.sub._delay&&clearTimeout(b.sub._delay),b.sub._delay=setTimeout(function(){b.sub._show||(b.sub._show=!0,c=b.sub.container.offsetHeight,b.sub.container.style.height="auto",d=b.sub.container.offsetHeight,b.sub.container.style.height=c+"px",b.sub._animate.go({style:{height:d+"px"},duration:e.params.duration,anim:"smooth",onStop:function(){b.sub.container.style.height="auto"}}))},e.params.delay),e},c.hideSubMenuItemCollapsible=function(a,b){var c=this,d=cm.getRelatedTarget(a);return cm.isParent(b.container,d,!0)||(b.sub._delay&&clearTimeout(b.sub._delay),b.sub._delay=setTimeout(function(){b.sub._show&&(b.sub._show=!1,b.sub._animate.go({style:{height:"0px"},duration:c.params.duration,anim:"smooth",onStop:function(){b.sub.container.style.height=""}}))},c.params.delay)),c},c.processSelect=function(){var a=this,b=a.nodes.select.select.value;return cm.isEmpty(b)||(window.location.href=b),a},c.setView=function(a){var b=this;switch(b.params.view=a,a){case"horizontal":cm.removeClass(b.nodes.container,"is-vertical mod__menu--adaptive"),cm.addClass(b.nodes.container,"is-horizontal"),b.setSubmenuView("dropdown");break;case"vertical":cm.removeClass(b.nodes.container,"is-horizontal mod__menu--adaptive"),cm.addClass(b.nodes.container,"is-vertical"),b.setSubmenuView("visible");break;case"mobile":cm.addClass(b.nodes.container,"mod__menu--adaptive")}return b},c.setAlign=function(a){var b=this;return cm.inArray(b.alignValues,a)&&(cm.forEach(b.alignValues,function(a){cm.removeClass(b.nodes.container,["pull",a].join("-"))}),cm.addClass(b.nodes.container,["pull",a].join("-"))),b},c.setSubmenuView=function(a){var b=this;return cm.inArray(b.submeniViewValues,a)&&(cm.forEach(b.submeniViewValues,function(a){cm.removeClass(b.nodes.container,["is",a].join("-"))}),b.params.submenu=a,cm.addClass(b.nodes.container,["is",a].join("-"))),b}}),cm.define("App.ModuleMenu",{modules:["Params","DataNodes"],params:{node:cm.node("div")}},function(a){var b=this;b.nodes={select:cm.node("select")};var c=function(){b.setParams(a),b.getDataNodes(b.params.node),d()},d=function(){cm.addEvent(b.nodes.select,"change",e)},e=function(){var a=b.nodes.select.value;cm.isEmpty(a)||(window.location.href=a)};c()}),cm.define("App.ModuleRolloverTabs",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRenderStart","onRender","onTabShow","onTabHide","enableEditing","disableEditing","enableEditable","disableEditable"],params:{node:cm.Node("div"),name:"",event:"hover",useMouseOut:!0,showEmptyTab:!1,duration:"cm._config.animDuration",delay:"cm._config.hideDelay",width:"auto",attachment:"container",expand:"bottom",isEditing:!1,customEvents:!0,"Com.TabsetHelper":{}}},function(a){var b=this;b.nodes={container:cm.node("div"),inner:cm.node("div"),"menu-label":cm.node("div"),labels:[],options:[],tabs:[]},b.components={},b.tabs=[],b.options=[],b.isEditing=null,b.isProcessing=!1,b.hideInterval=null,b.changeInterval=null,b.resizeInterval=null,b.currentPosition=null,b.previousPosition=null;var c=function(){d(),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),e(),b.triggerEvent("onRenderStart"),f(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){b.params.duration=cm.getTransitionDurationFromLESS("AppMod-RolloverTabs-Duration",b.params.duration)},e=function(){b.params["Com.TabsetHelper"].node=b.nodes.inner,b.params["Com.TabsetHelper"].name=[b.params.name,"tabset"].join("-"),b.params["Com.TabsetHelper"].targetEvent=b.params.event},f=function(){cm.addClass(b.nodes.container,["attachment",b.params.attachment].join("-")),cm.addClass(b.nodes.container,["expand",b.params.expand].join("-")),cm.getConstructor("Com.TabsetHelper",function(a,c){b.components.tabset=new a(b.params[c]).addEvent("onTabHide",function(a,c){b.triggerEvent("onTabHide",c)}).addEvent("onTabShowStart",function(a,c){b.isProcessing||(b.nodes["content-list"].style.overflow="hidden",b.nodes["content-list"].style.height=b.nodes["content-list"].offsetHeight+"px"),b.isProcessing=!0,b.changeInterval&&clearTimeout(b.changeInterval),b.changeInterval=setTimeout(function(){b.isProcessing=!1,b.nodes["content-list"].style.height="auto",b.nodes["content-list"].style.overflow="visible"},b.params.duration)}).addEvent("onTabShow",function(a,c){b.nodes["content-list"].style.height=c.item.tab.container.offsetHeight+"px",b.nodes["menu-label"].innerHTML=c.item.title,b.triggerEvent("onTabShow",c)}).addEvent("onLabelTarget",function(a,c){b.params.showEmptyTab||b.isEditing||c.item.tab.inner.childNodes.length?l():k()}).processTabs(b.nodes.tabs,b.nodes.labels)}),g(),cm.forEach(b.nodes.options,h),i(),b.params.customEvents&&(cm.customEvent.add(b.params.node,"destruct",function(){b.destruct()}),cm.customEvent.add(b.params.node,"redraw",function(){b.redraw()}),cm.customEvent.add(b.params.node,"enableEditable",function(){b.enableEditing()}),cm.customEvent.add(b.params.node,"disableEditable",function(){b.disableEditing()})),b.params.isEditing&&b.enableEditing()},g=function(){b.tabs=b.components.tabset.getTabs(),cm.forEach(b.tabs,function(a){cm.addEvent(a.label.link,"click",function(c){(b.isEditing||"click"==b.params.event&&b.components.tabset.get()!=a.id)&&cm.preventDefault(c)})})},h=function(a){var c=cm.merge({id:"",nodes:a},b.getNodeDataConfig(a.container));cm.addEvent(a.container,"click",function(a){b.components.tabset.get()!=c.id&&(cm.preventDefault(a),b.components.tabset.set(c.id),l())}),b.options.push(c)},i=function(){"hover"==b.params.event&&cm.addEvent(b.nodes.container,"mouseover",m),("hover"==b.params.event||b.params.useMouseOut)&&cm.addEvent(b.nodes.container,"mouseout",n),cm.addEvent(window,"click",o)},j=function(){"hover"==b.params.event&&cm.removeEvent(b.nodes.container,"mouseover",m),("hover"==b.params.event||b.params.useMouseOut)&&cm.removeEvent(b.nodes.container,"mouseout",n),cm.removeEvent(window,"click",o)},k=function(){b.hideInterval&&clearTimeout(b.hideInterval),b.hideInterval=setTimeout(function(){b.resizeInterval&&clearInterval(b.resizeInterval),cm.removeClass(b.nodes.content,"is-show"),b.nodes["menu-label"].innerHTML="",b.hideInterval=setTimeout(function(){b.components.tabset.unset()},b.params.delay)},b.params.delay)},l=function(){var a=b.components.tabset.getCurrentTab();a&&(b.params.showEmptyTab||b.isEditing||a.tab.inner.childNodes.length)&&(b.redraw(),b.hideInterval&&clearTimeout(b.hideInterval),cm.addClass(b.nodes.content,"is-show",!0))},m=function(){l()},n=function(a){var c=cm.getRelatedTarget(a);cm.isParent(b.nodes.container,c,!0)?l():!b.isEditing&&k()},o=function(a){var c=cm.getEventTarget(a);cm.isParent(b.nodes.container,c,!0)?l():!b.isEditing&&k()},p=function(){b.previousPosition=cm.clone(b.currentPosition),b.currentPosition=cm.getRect(b.nodes.container);var a=b.previousPosition&&b.previousPosition.top==b.currentPosition.top,c=b.previousPosition&&b.previousPosition.bottom==b.currentPosition.bottom,d=b.previousPosition&&b.previousPosition.width==b.currentPosition.width;if(d||(b.nodes.content.style.minWidth=b.currentPosition.width+"px"),!a||!c){var e=cm.getPageSize();switch(b.params.expand){case"top":b.nodes.content.style.top="auto",b.nodes.content.style.bottom=e.winHeight-b.currentPosition.top+"px";break;case"bottom":b.nodes.content.style.top=b.currentPosition.bottom+"px",b.nodes.content.style.bottom="auto"}}};b.enableEditing=function(){return cm.isBoolean(b.isEditing)&&b.isEditing||(b.isEditing=!0,cm.replaceClass(b.params.node,"is-not-editing","is-editing is-editable"),b.components.tabset.setByIndex(0),l(),b.triggerEvent("enableEditing"),b.triggerEvent("enableEditable")),b},b.disableEditing=function(){return(!cm.isBoolean(b.isEditing)||b.isEditing)&&(b.isEditing=!1,cm.replaceClass(b.params.node,"is-editing is-editable","is-not-editing"),k(),b.triggerEvent("disableEditing"),b.triggerEvent("disableEditable")),b},b.destruct=function(){return b.isDestructed||(b.isDestructed=!0,j(),b.removeFromStack(),cm.remove(b.nodes.container)),b},b.redraw=function(){switch(b.resizeInterval&&clearInterval(b.resizeInterval),b.params.attachment){case"screen":b.isEditing?(b.previousPosition=null,b.currentPosition=null,b.nodes.content.style.maxWidth="",b.nodes.content.style.minWidth="",b.nodes.content.style.top="",b.nodes.content.style.bottom=""):(b.previousPosition=null,b.currentPosition=null,b.nodes.content.style.maxWidth=b.params.width,p(),b.resizeInterval=setInterval(p,5))}return b},c()}),cm.define("Module.WorkingArea",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRenderStart","onRender","enableEditing","disableEditing","enableEditable","disableEditable"],params:{node:cm.node("div"),name:"",isEditing:!1,customEvents:!0,href:"",target:"_self"}},function(a){var b=this;b.nodes={container:cm.node("div")},b.components={},b.isEditing=null;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),b.addToStack(b.params.node),b.triggerEvent("onRenderStart"),e(),b.addToStack(b.nodes.container),b.triggerEvent("onRender")},d=function(){cm.isNode(b.params.node)&&(b.params.href=b.params.node.getAttribute("href")||b.params.href,b.params.target=b.params.node.getAttribute("target")||b.params.target)},e=function(){g(),b.params.customEvents&&(cm.customEvent.add(b.params.node,"enableEditable",function(){b.enableEditing()}),cm.customEvent.add(b.params.node,"disableEditable",function(){b.disableEditing()})),b.params.isEditing&&b.enableEditing()},f=function(){cm.addClass(b.nodes.container,"is-editing is-editable"),cm.isEmpty(b.params.href)||(cm.removeClass(b.nodes.container,"is-link"),cm.removeEvent(b.nodes.container,"click",h))},g=function(){cm.removeClass(b.nodes.container,"is-editing is-editable"),cm.isEmpty(b.params.href)||(cm.addClass(b.nodes.container,"is-link"),cm.addEvent(b.nodes.container,"click",h))},h=function(a){switch(cm.preventDefault(a),b.params.target){case"_blank":window.open(b.params.href,"_blank");break;default:window.location.href=b.params.href}};b.enableEditing=function(){return cm.isBoolean(b.isEditing)&&b.isEditing||(b.isEditing=!0,f(),b.triggerEvent("enableEditing"),b.triggerEvent("enableEditable")),b},b.disableEditing=function(){return(!cm.isBoolean(b.isEditing)||b.isEditing)&&(b.isEditing=!1,g(),b.triggerEvent("disableEditing"),b.triggerEvent("disableEditable")),b},c()}),cm.define("Dev.Parallax",{modules:["Params","Events","Langs","Structure","DataConfig","DataNodes","Storage","Stack"],events:["onRenderStart","onRender"],params:{node:cm.node("div"),name:"",speed:1}},function(a){var b=this;b.nodes={},b.components={},b.construct(a)}),cm.getConstructor("Dev.Parallax",function(a,b,c){c.construct=function(a){var b=this;return b.setHandler=b.set.bind(b),b.refreshHandler=b.refresh.bind(b),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.validateParams(),b.addToStack(b.params.node),b.triggerEvent("onRenderStart"),b.render(),b.addToStack(b.nodes.container),b.triggerEvent("onRender"),b},c.validateParams=function(){var a=this;return a},c.render=function(){var a=this;return a.refresh(),cm.addEvent(window,"scroll",a.setHandler),cm.addEvent(window,"resize",a.refreshHandler),a},c.refresh=function(){var a=this;return a.posY=cm.getY(a.nodes.container),a.selfHeight=a.nodes.container.offsetHeight,a.posY2=a.posY+a.selfHeight,a.winHeight=cm.getPageSize("winHeight"),a.halfY=(a.winHeight-a.selfHeight)/2,a.set(),a},c.set=function(){var a=this,b=cm.getBodyScrollTop();if(cm.inRange(b,b+a.winHeight,a.posY,a.posY2)){var c=b+a.halfY-a.posY,d=c-c*a.params.speed;cm.setCSSTranslate(a.nodes.backgroundInner,"0px",d+"px")}}}),cm.define("Dev.TBSC",{modules:["Params","Events","Langs","Structure","DataConfig","DataNodes","Storage","Stack"],events:["onRenderStart","onRender"],params:{node:cm.node("div"),name:"",customEvents:!0,ipadSpeed:.12,characterSpeed:.4,character2Speed:.288,raysSpeed:.342}},function(a){var b=this;b.nodes={},b.components={},b.isEditing=null,b.isDestructed=!1,b.construct(a)}),cm.getConstructor("Dev.TBSC",function(a,b,c){c.construct=function(a){var b=this;return b.resizeHandler=b.resize.bind(b),b.scrollHandler=b.scroll.bind(b),b.setHandler=b.set.bind(b),b.redrawHandler=b.redraw.bind(b),b.enableEditingHandler=b.enableEditing.bind(b),b.disableEditingHandler=b.disableEditing.bind(b),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.addToStack(b.params.node),b.triggerEvent("onRenderStart"),b.render(),b.addToStack(b.nodes.container),b.triggerEvent("onRender"),b},c.destruct=function(){var a=this;return a.isDestructed||(a.isDestructed=!0,cm.removeEvent(window,"scroll",a.scrollHandler),cm.removeEvent(window,"resize",a.resizeHandler),a.removeFromStack()),a},c.render=function(){var a=this;return a.redraw(),cm.addEvent(window,"scroll",a.scrollHandler),cm.addEvent(window,"resize",a.resizeHandler),a.params.customEvents&&(cm.customEvent.add(a.params.node,"destruct",function(){a.destruct()}),cm.customEvent.add(a.params.node,"redraw",function(){a.redraw()}),cm.customEvent.add(a.params.node,"enableEditable",function(){a.enableEditing()}),cm.customEvent.add(a.params.node,"disableEditable",function(){a.disableEditing()})),a},c.resize=function(){var a=this;return a.redraw(),a},c.scroll=function(){var a=this;return a.isEditing||a.set(),a},c.redraw=function(){var a=this;return a.isEditing?(cm.setCSSTranslate(a.nodes.line.ipad,"0px","0px"),cm.setCSSTranslate(a.nodes.line.character,"0px","0px"),cm.setCSSTranslate(a.nodes.line.character2,"0px","0px"),cm.setCSSTranslate(a.nodes.line.rays,"0px","0px")):(cm.addClass(a.nodes.line.container,"is-start"),cm.removeClass(a.nodes.height,"is-hidden"),a.winWidth=cm.getPageSize("winWidth"),a.posX=cm.getX(a.nodes.container),a.posY=cm.getY(a.nodes.container),a.ipadStartY=70,a.ipadEndY=0,a.characterStartY=-210,a.characterEndY=0,a.character2StartY=-150,a.character2EndY=0,a.raysStartY=-180,a.raysEndY=0,a.set()),a},c.set=function(){var a=this,b=cm.getBodyScrollTop(),c=b,d=a.ipadStartY-c*a.params.ipadSpeed,e=a.characterStartY+c*a.params.characterSpeed,f=a.character2StartY+c*a.params.character2Speed,g=a.raysStartY+c*a.params.raysSpeed;d>=a.ipadStartY?cm.setCSSTranslate(a.nodes.line.ipad,"0px",a.ipadStartY+"px"):d>=a.ipadEndY?cm.setCSSTranslate(a.nodes.line.ipad,"0px",d+"px"):cm.setCSSTranslate(a.nodes.line.ipad,"0px",a.ipadEndY+"px"),e<=a.characterStartY?cm.setCSSTranslate(a.nodes.line.character,a.characterStartY+"px","0px"):e<=a.characterEndY?cm.setCSSTranslate(a.nodes.line.character,e+"px","0px"):cm.setCSSTranslate(a.nodes.line.character,a.characterEndY+"px","0px"),f<=a.character2StartY?cm.setCSSTranslate(a.nodes.line.character2,a.character2StartY+"px","0px"):f<=a.character2EndY?cm.setCSSTranslate(a.nodes.line.character2,f+"px","0px"):cm.setCSSTranslate(a.nodes.line.character2,a.character2EndY+"px","0px"),g<=a.raysStartY?cm.setCSSTranslate(a.nodes.line.rays,a.raysStartY+"px","0px"):g<=a.raysEndY?cm.setCSSTranslate(a.nodes.line.rays,g+"px","0px"):cm.setCSSTranslate(a.nodes.line.rays,a.raysEndY+"px","0px")},c.enableEditing=function(){var a=this;return cm.isBoolean(a.isEditing)&&a.isEditing||(a.isEditing=!0,a.redraw()),a},c.disableEditing=function(){var a=this;return(!cm.isBoolean(a.isEditing)||a.isEditing)&&(a.isEditing=!1,a.redraw()),a}});