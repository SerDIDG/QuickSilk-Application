/* ******* MODULES: ROLLOVER TABS ******* */

.app-mod__rollover-tabs {
    z-index: 1;
    .mx__transition(z-index, @CmUI-Transition-Duration);

    > .inner {
        position: relative;

        > .tabs__head {
            position: relative;
            z-index: 2;

            ul {
                .cm__list-clear;
                .cm__list-inline;

                > li {
                    position: relative;
                    z-index: 1;
                    .mx__transition(all, @CmUI-Transition-Duration);

                    > a {
                        .display-flex;
                        white-space: nowrap;
                        .mx__transition(all, @CmUI-Transition-Duration);
                        .mx__align-items(center);
                        .mx__flex-flow(row nowrap);

                        .image {
                            position: relative;

                            img {
                                .cm__image-centered;
                            }
                        }

                        .title {
                            &:first-child {
                                margin-left: 0;
                            }

                            &:last-child {
                                margin-right: 0;
                            }
                        }

                        &:hover {
                            .mx__transition(all, @CmUI-Transition-DurationReverse);
                        }
                    }

                    &:hover {
                        z-index: 2;
                        .mx__transition(all, @CmUI-Transition-DurationReverse);
                    }
                }
            }
        }

        > .tabs__menu {
            display: none;
            position: relative;
            z-index: 3;

            > .inner {
                position: relative;

                .label {
                    .cm__text-nowrap;
                }

                .icon {
                    float: right;

                    &.default {
                        .icon.medium.menu;
                    }
                }

                &:hover,
                &.active {
                    .pt__menu-dropdown {
                        .pt__menu-dropdown--active;
                    }
                }
            }

            .pt__menu-dropdown {
                .pt__menu-dropdown--base;
                min-width: 100%;
                top: 100%;
            }
        }

        > .tabs__content {
            max-width: 100%;
            margin-right: auto;
            margin-left: auto;
            z-index: 1;
            visibility: hidden;
            opacity: 0;
            .mx__position(auto, 0, auto, 0);
            .mx__transition(opacity visibility height, @CmUI-Transition-Duration);

            > .inner {
                > ul {
                    .cm__list-clear;
                    position: relative;
                    .mx__transition(height, @AppMod-RolloverTabs-Duration);

                    > li {
                        position: absolute;
                        z-index: 1;
                        visibility: hidden;
                        opacity: 0;
                        overflow: hidden;
                        .mx__position(0, 0, 0, 0);
                        .mx__transition(all, @AppMod-RolloverTabs-Duration);

                        &.active {
                            position: relative;
                            z-index: 2;
                            visibility: visible;
                            opacity: 1;
                            overflow: visible;
                        }
                    }
                }
            }

            &.is-show {
                visibility: visible;
                opacity: 1;
                .mx__transition(opacity visibility height, @CmUI-Transition-DurationReverse);
            }
        }
    }

    &:not(.is-editing) {
        &.expand-top {
            > .inner {
                > .tabs__content {
                    bottom: 100%;
                }
            }
        }

        &.expand-bottom {
            > .inner {
                > .tabs__content {
                    top: 100%;
                }
            }
        }

        &.attachment-container {
            > .inner {
                > .tabs__content {
                    position: absolute;
                }
            }
        }

        &.attachment-screen {
            > .inner {
                > .tabs__content {
                    position: fixed;
                }
            }
        }
    }

    &.is-editing {
        > .inner {
            > .tabs__content {
                width: auto !important;
                position: relative;

                > .inner {
                    > ul {
                        > li {
                            display: none;

                            &.active {
                                display: block;
                            }
                        }
                    }
                }
            }
        }

        &.expand-top {
            > .inner {
                > .tabs__content {
                    bottom: auto !important;
                }
            }
        }

        &.expand-bottom {
            > .inner {
                > .tabs__content {
                    top: auto !important;
                }
            }
        }
    }

    &.pull-left {
        > .inner {
            > .tabs__head {
                ul {
                    text-align: left;
                }
            }
        }
    }

    &.pull-center {
        > .inner {
            > .tabs__head {
                ul {
                    text-align: center;
                }
            }
        }
    }

    &.pull-right {
        > .inner {
            > .tabs__head {
                ul {
                    text-align: right;
                }
            }
        }
    }

    &.pull-justify {
        > .inner {
            > .tabs__head {
                ul {
                    .display-flex;
                    text-align: center;
                    .mx__flex-flow(row wrap);

                    > li {
                        max-width: 100%;
                        .mx__flex(1 1 0);

                        > a {
                            .mx__justify-content(center);

                            .title {
                                .cm__text-nowrap;
                            }
                        }
                    }
                }
            }
        }
    }

    &:hover {
        z-index: 10;
    }

    .app-mod__rollover-tabs__label-indent(@AppMod-RolloverTabs-Label-Indent);
    .app-mod__rollover-tabs__label-title-indent(@AppMod-RolloverTabs-Label-TitleIndent);
    .app-mod__rollover-tabs__content-indent(@AppMod-RolloverTabs-Content-Indent);
    .app-mod__rollover-tabs__image-size(@AppMod-RolloverTabs-Image-Size);
}

/* *** THEMES *** */

.app-mod__rollover-tabs {
    &.theme-initial {
        > .inner {
            > .tabs__head {
                > .inner {
                    ul {
                        > li {
                            border: @AppMod-RolloverTabs-Border;
                            border-radius: @AppMod-RolloverTabs-BorderRadius;

                            > a {
                                .cm__font;
                                text-decoration: none;
                            }
                        }
                    }
                }
            }

            > .tabs__menu {
                > .inner {
                    border: @AppMod-RolloverTabs-Border;
                    border-radius: @AppMod-RolloverTabs-BorderRadius;

                    .label {
                        .cm__font;
                        min-height: @AppMod-RolloverTabs-Menu-Height;
                        line-height: @AppMod-RolloverTabs-Menu-Height;
                        padding: 0 @AppMod-RolloverTabs-Menu-Indent;
                    }

                    .icon {
                        width: @AppMod-RolloverTabs-Menu-Height;
                        height: @AppMod-RolloverTabs-Menu-Height;
                    }
                }
            }

            > .tabs__content {
                > .inner {
                    padding: @CmIndent-XSmall;
                    border: @AppMod-RolloverTabs-Border;
                    border-radius: @AppMod-RolloverTabs-BorderRadius;
                    box-shadow: @CmUI-Shadow-Bottom;
                }
            }
        }

        .app-mod__rollover-tabs__label-inner-indent(@AppMod-RolloverTabs-Label-InnerIndent);
        .app-mod__rollover-tabs__label-height(@AppMod-RolloverTabs-Label-Height);
    }

    &.theme-light {
        > .inner {
            > .tabs__head {
                > .inner {
                    ul {
                        > li {
                            background: @AppMod-RolloverTabs-ThemeLight-Label-DefaultBackground;
                            border-color: @AppMod-RolloverTabs-ThemeLight-BorderColor;

                            &:hover {
                                background: @AppMod-RolloverTabs-ThemeLight-Label-HoverBackground;
                            }

                            &.active {
                                background: @AppMod-RolloverTabs-ThemeLight-Label-ActiveBackground;
                            }
                        }
                    }
                }
            }

            > .tabs__menu {
                > .inner {
                    background: @AppMod-RolloverTabs-ThemeLight-Menu-Background;
                    border-color: @AppMod-RolloverTabs-ThemeLight-BorderColor;
                }
            }

            > .tabs__content {
                > .inner {
                    background-color: @AppMod-RolloverTabs-ThemeLight-Content-Background;
                    border-color: @AppMod-RolloverTabs-ThemeLight-BorderColor;
                }
            }
        }
    }

    &.theme-default {
        &:extend(.app-mod__rollover-tabs.theme-initial all);
        &:extend(.app-mod__rollover-tabs.theme-light all);
    }
}

// /* *** MIXINS *** */

.app-mod__rollover-tabs__label-indent (@indent: @AppMod-RolloverTabs-Label-Indent) {
    > .inner {
        > .tabs__head {
            ul {
                margin: -(@indent / 2);

                > li {
                    margin: (@indent / 2);
                }
            }
        }
    }
}

.app-mod__rollover-tabs__label-inner-indent (@indent: @AppMod-RolloverTabs-Label-InnerIndent) {
    > .inner {
        > .tabs__head {
            > .inner {
                ul {
                    > li {
                        > a {
                            padding: 0 @indent;
                        }
                    }
                }
            }
        }
    }
}

.app-mod__rollover-tabs__label-height (@height: @AppMod-RolloverTabs-Label-Height) {
    > .inner {
        > .tabs__head {
            > .inner {
                ul {
                    > li {
                        > a {
                            height: @height;
                            line-height: @height;
                        }
                    }
                }
            }
        }
    }
}

.app-mod__rollover-tabs__label-title-indent (@indent: @AppMod-RolloverTabs-Label-TitleIndent) {
    > .inner {
        > .tabs__head {
            ul {
                > li {
                    > a {
                        .title {
                            margin-left: @indent;
                            margin-right: @indent;

                            &:first-child {
                                margin-left: 0;
                            }

                            &:last-child {
                                margin-right: 0;
                            }
                        }
                    }
                }
            }
        }
    }
}

.app-mod__rollover-tabs__content-indent (@indent: @AppMod-RolloverTabs-Content-Indent) {
    &.expand-bottom {
        > .inner {
            > .tabs__content {
                margin-top: @indent;
            }
        }

        &.is-editing {
            > .inner {
                > .tabs__content {
                    margin-top: @indent;
                    margin-bottom: 0;
                }
            }
        }
    }

    &.expand-top {
        > .inner {
            > .tabs__content {
                margin-bottom: @indent;
            }
        }

        &.is-editing {
            > .inner {
                > .tabs__content {
                    margin-top: @indent;
                    margin-bottom: 0;
                }
            }
        }
    }
}

.app-mod__rollover-tabs__image-size (@size: @AppMod-RolloverTabs-Image-Size) {
    > .inner {
        > .tabs__head {
            ul {
                > li {
                    > a {
                        .image {
                            width: @size;
                            height: @size;
                        }
                    }
                }
            }

            .pt__image {
                width: @size;
                height: @size;
            }
        }
    }
}

/* ******* COMPONENTS: TABSET: ADAPTIVE ******* */

@media only screen and (max-width : @AppMod-RolloverTabs-AdaptiveFrom) {

    html.is-adaptive {
        .app-mod__rollover-tabs {
            > .inner {
                > .tabs__head {
                    display: none;
                }

                > .tabs__menu {
                    display: block;
                }

                > .tabs__content {
                    > .inner {
                        > ul {
                            .cm__transition-none;
                        }
                    }
                }
            }
        }
    }
}