/* ******* COMPONENT: SIDEBAR ******* */

.app-sidebar {
    width: @AppLT-Sidebar-width;
    position: fixed;
    z-index: 102;
    overflow: hidden;
    background: @AppLT-Sidebar-background;
    box-shadow: @CmUI-Shadow;
    .mx__transition(-webkit-transform -ms-transform transform, @AppLT-Sidebar-duration);
    .mx__position(0, auto, 0, 0);

    > .inner {
        position: absolute;
        .mx__position(0, 0, 0, 0);

        > .title {
            .cm__font--ui-h1;
            padding: 6px @AppLT-Sidebar-padding;
            position: absolute;
            background: @AppLT-Sidebar-background;
            text-align: left;
            .mx__position(0, 0, auto, 0);
            .mx__user-select(none);

            .icon {
                position: absolute;
                cursor: pointer;
                .mx__transition(-webkit-transform -ms-transform transform, @AppLT-Sidebar-duration);
                .mx__position(14px, @CmIndent-XSmall, auto, auto);
            }
        }

        > .descr {
            .cm__scroll-y;
            padding: @AppLT-Sidebar-padding;
            position: absolute;
            background: @AppLT-Sidebar-background;
            .mx__position(50px, 0, 0, 0);
            .mx__transition(opacity, @AppLT-Sidebar-duration);
        }
    }

    &.is-collapsed {
        @translate: @AppLT-Sidebar-widthCollapsed - @AppLT-Sidebar-width;
        -webkit-transform: translateX(@translate);
            -ms-transform: translateX(@translate);
                transform: translateX(@translate);

        > .inner {
            > .title {
                .icon {
                    -webkit-transform: rotate(180deg);
                        -ms-transform: rotate(180deg);
                            transform: rotate(180deg);
                }
            }

            > .descr {
                opacity: 0;
                .mx__opacity-ie(0);
            }
        }
    }

    &.is-immediately {
        .cm__transition-none;

        > .inner {
            > .title {
                .icon {
                    .cm__transition-none;
                }
            }

            > .descr {
                .cm__transition-none;
            }
        }
    }

    // /* *** REMOVE ZONE *** */

    .remove-zone {
        position: absolute;
        padding: 0;
        z-index: 3;
        opacity: 0;
        background: fadeout(@CmColor-Danger-DarkDefault, 50%);
        border-radius: 0;
        visibility: hidden;
        .mx__position(0, 0, 0, 0);

        .title {
            .cm__font--ui-h1;
            padding: 6px @CmIndent-XSmall;
            background-color: @CmColor-Danger-DarkDefault;
            color: #fff;
        }

        &.cm-draganddrop-area {
            &.is-available {
                .mx__transition(all, @CmUI-Transition-Duration);

                &.is-highlight {
                    visibility: visible;
                    opacity: 1;
                    background: fadeout(@CmColor-Danger-DarkDefault, 75%);

                    &:before {
                        display: none;
                    }
                }

                &.is-active {
                    visibility: visible;
                    opacity: 1;
                    background: fadeout(@CmColor-Danger-DarkDefault, 50%);

                    &:before {
                        display: none;
                    }
                }
            }
        }
    }
}

/* *** WIDGETS CATEGORY *** */

.app-widgets-category {
    margin: 10px 0 0 0;

    &:first-child {
        margin: 0;
    }

    > dd {
        margin: 0 -@AppWidget-dummyPadding;
        font-size: 0;
        background: @AppLT-Sidebar-background;  /* Fix blinked blocks on collapse in Firefox. */
    }

    .app-widget-container {
        width: @AppLT-Sidebar-dummyWidth;
        margin: 0;
        display: inline-block;
        vertical-align: top;
    }
}

/* ******* COMPONENT: SIDEBAR: ADAPTIVE ******* */

@media only screen and (max-width : @CmScreen-Tablet) {

    html.is-adaptive {
        .app-sidebar {
            width: @AppLT-Sidebar-widthTablet;

            &.is-collapsed {
                @translate: @AppLT-Sidebar-widthCollapsed - @AppLT-Sidebar-widthTablet;
                -webkit-transform: translateX(@translate);
                    -ms-transform: translateX(@translate);
                        transform: translateX(@translate);
            }
        }
    }

}

@media only screen and (max-width : @CmScreen-MobilePortrait) {

    html.is-adaptive {
        .app-sidebar {
            display: none;
        }
    }

}

/* *** COMPONENT: SIDEBAR: PRINT *** */

@media print {

    .app-sidebar {
        display: none;
    }

}