/* ******* LAYOUTS: SIDEBAR ******* */

.app-lt__sidebar {
    width: @AppLT-Sidebar-Width;
    position: fixed;
    z-index: 102;
    overflow: hidden;
    box-shadow: @CmUI-Shadow-Right;
    .mx__transition(transform, @AppLT-Sidebar-Duration);
    .mx__position(0, auto, 0, 0);
    .mx__backface-visibility(hidden);

    > .inner {
        position: absolute;
        .mx__position(0, 0, 0, 0);

        > .title {
            .cm__font--ui-h1;
            padding: 6px @AppLT-Sidebar-Padding;
            position: absolute;
            text-align: left;
            .mx__position(0, 0, auto, 0);
            .mx__user-select(none);

            .icon {
                position: absolute;
                cursor: pointer;
                .mx__transition(transform, @AppLT-Sidebar-Duration);
                .mx__position(14px, @CmIndent-XSmall, auto, auto);

                &.default {
                    .cm__size__medium;
                    .icon.linked;
                }
            }
        }

        > .descr {
            .cm__scroll-y;
            padding: @AppLT-Sidebar-Padding;
            position: absolute;
            .mx__position(50px, 0, 0, 0);
            .mx__transition(opacity, @AppLT-Sidebar-Duration);
        }
    }

    &.is-collapsed {
        @translate: @AppLT-Sidebar-WidthCollapsed - @AppLT-Sidebar-Width;
        .mx__transform(translateX(@translate));

        > .inner {
            > .title {
                .icon {
                    .mx__transform(rotate(180deg));
                }
            }

            > .descr {
                opacity: 0;
                .mx__opacity-ie(0);
            }
        }
    }

    &.is-immediately {
        .cm__transition-none;

        > .inner {
            > .title {
                .icon {
                    .cm__transition-none;
                }
            }

            > .descr {
                .cm__transition-none;
            }
        }
    }

    // /* *** REMOVE ZONE *** */

    .remove-zone {
        position: absolute;
        padding: 0;
        z-index: 3;
        opacity: 0;
        background: fadeout(@CmColor-Danger-DarkDefault, 50%);
        border-radius: 0;
        visibility: hidden;
        .mx__position(0, 0, 0, 0);

        .title {
            .cm__font--ui-h1;
            padding: 6px @CmIndent-XSmall;
            background-color: @CmColor-Danger-DarkDefault;
            color: @CmFont-UI-ColorOpposite;
        }

        &.pt__dnd-area {
            &.is-available {
                .mx__transition(all, @CmUI-Transition-Duration);

                &.is-highlight {
                    visibility: visible;
                    opacity: 1;
                    background: fadeout(@CmColor-Danger-DarkDefault, 75%);

                    &:before {
                        display: none;
                    }
                }

                &.is-active {
                    visibility: visible;
                    opacity: 1;
                    background: fadeout(@CmColor-Danger-DarkDefault, 50%);

                    &:before {
                        display: none;
                    }
                }
            }
        }
    }
}

// /* *** MIXINS *** */

.app-lt__sidebar__theme (@theme) {
    .app-lt__sidebar__background(~"@{AppLT-Sidebar-Theme@{theme}-Background}");
    .app-lt__sidebar__color(~"@{AppLT-Sidebar-Theme@{theme}-Color}");
    .app-lt__sidebar__title-icon(~"@{AppLT-Sidebar-Theme@{theme}-TitleIcon}");

    .app-lt__sidebar {
        .com__togglebox__title-theme(@theme);
    }
}

.app-lt__sidebar__background (@background) {
    .app-lt__sidebar {
        background-color: @background;
        // Fix of blinking background in Firefox
        .app-pt__widgets-category__background(@background);
    }
}

.app-lt__sidebar__color (@color) {
    .app-lt__sidebar {
        > .inner {
            > .title {
                color: @color;
            }
        }
    }
}

.app-lt__sidebar__title-icon (@image) {
    .app-lt__sidebar {
        > .inner {
            > .title {
                .icon.default {
                    background-image: url("@{image}");
                }
            }
        }
    }
}

.app-lt__sidebar__theme(@AppLT-Sidebar-Theme);

/* ******* COMPONENT: SIDEBAR: ADAPTIVE ******* */

@media only screen and (max-width : @CmScreen-Tablet) {

    html.is-adaptive {
        .app-lt__sidebar {
            width: @AppLT-Sidebar-WidthTablet;

            &.is-collapsed {
                @translate: @AppLT-Sidebar-WidthCollapsed - @AppLT-Sidebar-WidthTablet;
                .mx__transform(translateX(@translate));
            }
        }
    }

}

@media only screen and (max-width : @CmScreen-MobilePortrait) {

    html.is-adaptive {
        .app-lt__sidebar {
            display: none;
        }
    }

}

/* ******* COMPONENT: SIDEBAR: PRINT ******* */

@media print {

    .app-lt__sidebar {
        display: none;
    }

}