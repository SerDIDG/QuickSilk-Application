/* ******* MODULES: MENU ******* */

.app-mod__menu {
    > ul {
        .cm__list-clear;
        .cm__list-inline--base;

        > li {
            position: relative;
            z-index: 1;

            &:first-child {
                margin: 0;
            }

            &:last-child {
                margin: 0;
            }

            > a {
                display: block;
                white-space: nowrap;
                .mx__transition(color, @CmUI-Transition-Duration);

                &:hover {
                    .mx__transition(color, @CmUI-Transition-DurationReverse);
                }
            }

            &.sep {
                display: none;
            }

            &.is-mobile {
                display: none;
            }

            &:hover {
                z-index: 2;
            }
        }
    }

    .pt__menu-dropdown {
        text-align: left;
        .pt__menu-dropdown--base;
    }

    .menu-select {
        display: none;
        background: @CmColor-Secondary-LightHover;
        position: relative;

        .select {
            position: relative;
            z-index: 2;
            border: none;
            border-radius: 0;
            background: transparent;
            cursor: pointer;
            .mx__appearance(none);
        }
    }

    .menu-button {
        .icon.linked;
        .icon.medium.menu;
        position: absolute;
        z-index: 1;
        background-position: 50% 50%;
        background-repeat: no-repeat;
        .mx__position(0, 0, 0, auto);
    }

    &:not(.vertical).pull-justify {
        > ul {
            .display-flex;
            .mx__flex-flow(row wrap);

            > li {
                max-width: 100%;
                .mx__flex(1 1 0%);

                > a {
                    .cm__text-overflow;
                    text-align: center;
                }
            }
        }
    }

    &.default {
        .app-mod__menu__indent(@AppModuleMenu-Default-Indent);
    }

    &.primary {
        .app-mod__menu__indent(@AppModuleMenu-Primary-Indent);
    }

    &.secondary {
        .app-mod__menu__indent(@AppModuleMenu-Secondary-Indent);
    }

    &.vertical {
        ul {
            .cm__list-clear;
        }

        li {
            display: block;
        }

        a {
            display: inline-block;
            vertical-align: top;
            white-space: normal;

            .mx__transition(color, @CmUI-Transition-Duration);

            &:hover {
                .mx__transition(color, @CmUI-Transition-DurationReverse);
            }
        }

        .app-mod__menu__indent--vertical(@AppModuleMenu-Vertical-Indent, @AppModuleMenu-Vertical-IndentX);
    }

    .app-mod__menu__select-size(@CmForm-FieldHeight);
}

// /* *** MIXINS *** */

.app-mod__menu__select-size (@size: @CmForm-FieldHeight) {
    .menu-select {
        .select {
            height: @size;
            padding-right: @size;
        }
    }

    .menu-button {
        width: @size;
        height: @size;
    }
}

.app-mod__menu__indent (@indent: @AppModuleMenu-Default-Indent) {
    &.pull-left {
        > ul {
            text-align: left;

            > li {
                margin-right: @indent;

                &:last-child {
                    margin-right: 0;
                }
            }
        }
    }

    &.pull-center {
        > ul {
            text-align: center;

            > li {
                margin-left: @indent;

                &:first-child {
                    margin-left: 0;
                }
            }
        }
    }

    &.pull-right {
        > ul {
            text-align: right;

            > li {
                margin-left: @indent;

                &:first-child {
                    margin-left: 0;
                }
            }
        }
    }

    &.pull-justify {
        >  ul {
            text-align: left;

            > li {
                margin-left: @indent;

                &:first-child {
                    margin-right: 0;
                }
            }
        }
    }
}

.app-mod__menu__indent--vertical (@indent: @AppModuleMenu-Default-Indent, @indentX: @AppModuleMenu-Default-Indent) {
    ul,
    ul li {
        margin-top: @indent;

        &:first-child {
            margin-top: 0;
        }
    }

    &.pull-left {
        ul {
            text-align: left;

            ul {
                margin-left: @indentX;
            }
        }
    }

    &.pull-center {
        ul {
            text-align: center;
        }
    }

    &.pull-right {
        ul {
            text-align: right;

            ul {
                margin-right: @indentX;
            }
        }
    }
}

/* ******* MODULES: MENU: ADAPTIVE ******* */

@media only screen and (max-width : @CmScreen-TabletPortrait) {

    html.is-adaptive {
        .app-mod__menu {
            &:not(.vertical) {
                > ul {
                    display: none;
                }

                .menu-select {
                    display: block;
                }
            }
        }
    }

}

/* *******  MODULES: MENU: PRINT ******* */

@media print {

    .app-mod__menu {
        display: none !important;
    }

}